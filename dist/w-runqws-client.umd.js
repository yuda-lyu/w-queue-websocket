/*!
 * w-runqws-client v1.0.2
 * (c) 2018-2019 yuda-lyu(semisphere)
 * Released under the MIT License.
 */(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("ws")):"function"==typeof define&&define.amd?define(["ws"],t):(e=e||self,e["w-runqws-client"]=t(e.ws))})(this,function(e){'use strict';var K=Math.min;function t(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ae&&Ae in Object(e)?_e(e):me(e)}function i(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}function a(e){return!!Be&&Be in e}function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function c(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function d(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function p(e){var t=this.__data__=new oe(e);this.size=t.size}function l(e,t,r){var n=e[t];ot.call(e,t)&&ee(n,r)&&(r!==void 0||t in e)||rt(e,t,r)}function u(e){return null!=e&&"object"==r(e)}function y(e,t){var n=r(e);return t=null==t?9007199254740991:t,!!t&&("number"==n||"symbol"!=n&&ht.test(e))&&-1<e&&0==e%1&&e<t}function g(e,t,r,n,o,i){var a,s=1&t,c=2&t;if(r&&(a=o?r(e,n,o,i):r(e)),void 0!==a)return a;if(!Oe(e))return e;var d=bt(e);if(!d){var p=Lr(e),l="[object Function]"==p||"[object GeneratorFunction]"==p;if(_t(e))return Wt(e,s);if("[object Object]"!=p&&"[object Arguments]"!=p&&(!l||o)){if(!Kr[p])return o?e:{};a=Nr(e,p,s)}else if(a=c||l?{}:$r(e),!s)return c?ar(e,Nt(a,e)):Kt(e,Dt(a,e))}else if(a=Pr(e),!s)return Ht(e,a);i||(i=new Ze);var u=i.get(e);if(u)return u;i.set(e,a),Zr(e)?e.forEach(function(n){a.add(g(n,t,r,n,e,i))}):Jr(e)&&e.forEach(function(n,o){a.set(o,g(n,t,r,o,e,i))});var y=4&t?c?dr:cr:c?keysIn:Mt,b=d?void 0:y(e);return Ke(b||e,function(n,o){b&&(o=n,n=e[o]),it(a,o,g(n,t,r,o,e,i))}),a}function b(e){return"symbol"==r(e)||ct(e)&&xe(e)=="[object Symbol]"}function f(e,t){if(bt(e))return!1;var n=r(e);return!!("number"==n||"symbol"==n||"boolean"==n||null==e||tn(e))||nn.test(e)||!rn.test(e)||null!=t&&e in Object(t)}function _(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(_.Cache||Ye),r}function h(e){if("string"==typeof e)return e;if(bt(e))return cn(e,h)+"";if(tn(e))return ln?ln.call(e):"";var t=e+"";return"0"==t&&1/e==-dn?"-0":t}function j(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}function m(t){function r(){j(t.open)&&t.open()}function n(){j(t.close)&&t.close()}function o(e){j(t.message)&&t.message(e)}function i(e){j(t.error)&&t.error(e),a.close()}var a=null;t.url||(t.url="ws://localhost:8080"),t.token||(t.token="*");var s,c="undefined"!=typeof window;s=c?window.WebSocket:e;try{a=new s(t.url+"/?token="+t.token)}catch(e){return null}return c?(a.onopen=r,a.onmessage=function(e){var t=e.data;o(t)},a.onclose=n,a.onerror=i):(a.on("open",r),a.on("message",o),a.on("close",n),a.on("error",i)),a}function A(){var e,t,r=new Promise(function(){e=arguments[0],t=arguments[1]});return r.resolve=e,r.reject=t,r}function x(e){var t=Object.prototype.toString.call(e);return"[object String]"===t}function O(e){return!!(x(e)&&""!==e)}function S(e){var t=Object.prototype.toString.call(e);return"[object Number]"===t}function w(e){var t=!1;return O(e)?t=!isNaN(+e):S(e)&&(t=!0),t}function B(e){if(!w(e))return 0;var t=wn(e);return t}function k(e){return!!w(e)&&(e=B(e),kn(e))}function L(e){if(!w(e))return 0;e=B(e);var t=En(e);return"0"===t+""?0:t}function U(e){if(!k(e))return!1;var t=0<L(e);return t}function E(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:32,n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o=[],a=n.length;if(U(t))for(e=0;e<t;e++)o[e]=n[0|Math.random()*a];else if("rfc4122"===t){o[8]=o[13]=o[18]=o[23]="-",o[14]="4";var s;for(e=0;36>e;e++)o[e]||(s=0|16*Math.random(),o[e]=n[19===e?8|3&s:s])}else return"";var c=o.join("");return c}function P(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t}function z(e){if(P(e)){for(var t in e)return!0;return!1}return!1}function T(e,t){return z(e)?O(t)?fn(e,t,""):"":""}function I(e){if(!O(e)&&!w(e))return"";return e+""}function M(e,t){var n=T(e,t);return n=I(n),n}function D(e){var t=Object.prototype.toString.call(e);return"[object Uint8Array]"===t}function Q(e){var t=Object.prototype.toString.call(e);return"[object Uint16Array]"===t}function F(e,t){return O(e)?U(t)?e.substr(0,t):"":""}function C(e,t){if(!O(e))return"";if(!U(t))return"";var r=e.length-t;return 0>r&&(r=0),e.substr(r,t)}function R(e,t){return O(e)?U(t)?C(e,e.length-t):"":""}function V(e){if(!D(e))return"";var t=Tn.create(e),r=t.toString(zn);return r}function N(e){if(!x(e))return new Uint8Array;for(var t,r=zn.parse(e),n=r.words,o=r.sigBytes,a=new Uint8Array(o),s=0;s<o;s++)t=255&n[s>>>2]>>>24-8*(s%4),a[s]=t;return a}function W(e){return Q(e)?new Uint8Array(e):new Uint8Array}function H(e){return Q(e)?V(W(e)):""}function $(e){return D(e)?new Uint16Array(e):new Uint16Array}function q(e){if(!x(e))return new Uint16Array;var t=N(e),r=$(t);return r}function G(e){var t=Object.prototype.toString.call(e);return"[object Undefined]"===t}function J(e){var t=Object.prototype.toString.call(e);return"[object Array]"===t}function X(e){function t(e,t){return 0<=r.indexOf("Uint8Array")&&(t=In.u8arr2b64(t)),0<=r.indexOf("Uint16Array")&&(t=In.u16arr2b64(t)),t}var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Uint8Array";if(G(e))return"";if(x(r))r=[r];else if(J(r));else return"";var n="";try{n=JSON.stringify(e,t)}catch(e){n=""}return n}function Y(e){function t(e,t){return 0<=r.indexOf("Uint8Array")&&(t=In.b642u8arr(t)),0<=r.indexOf("Uint16Array")&&(t=In.b642u16arr(t)),t}var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Uint8Array";if(x(r))r=[r];else if(J(r));else return{};var n={};try{n=JSON.parse(e,t)}catch(e){n={}}return n}function Z(e){function t(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];setTimeout(function(){s.emit.apply(s,[e].concat(r))},1)}function r(){function r(){t("open")}function c(){o||(t("openOnce"),o=!0)}function d(){t("close"),n()}function p(e){t("error",{msg:"websocket error",err:e}),a.close()}function l(e){var t=Y(e);u(t)}function u(e){var r=M(e,"_mode");if("execute"!==r)"broadcast"===r?t("broadcast",fn(e,"data")):"deliver"===r?t("deliver",fn(e,"data")):p({msg:"can not find _mode in data",err:e});else if(fn(e,"_id")&&fn(e,"output")){var n=fn(e,"_id");i[n]=e}else t("error",{msg:"can not find _id and output in data",err:e})}function y(e){a.readyState===a.OPEN&&a.send(X(e),function(e){e&&t("error",{msg:"can not send message",err:e})})}e.url||(e.url="ws://localhost:8080"),e.token||(e.token="*");var g={url:e.url,token:e.token,open:function(){r(),c()},close:function(){d()},message:function(e){l(e)},error:function(e){p(e)}};try{a=new m(g)}catch(e){t("error",{msg:"can not create websocket",err:e}),n()}s.removeAllListeners("triggerExecute"),s.on("triggerExecute",function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length?arguments[2]:void 0,o=E();i[o]=null,y({_mode:"execute",_id:o,func:e,input:r});var a=setInterval(function(){if(null!==i[o]){var e=fn(i[o],"output");delete i[o],n(e),clearInterval(a)}},1e3)}),s.removeAllListeners("triggerBroadcast"),s.on("triggerBroadcast",function(e){y({_mode:"broadcast",data:e})}),s.removeAllListeners("triggerDeliver"),s.on("triggerDeliver",function(e){y({_mode:"deliver",data:e})})}function n(){setTimeout(function(){t("reconn"),r()},1e3)}var o=!1,i={},a=null,s=new _n;return s.execute=function(e,r){var n=A();return t("triggerExecute",e,r,function(e){n.resolve(e)}),n},s.broadcast=function(e){t("triggerBroadcast",e)},s.deliver=function(e){t("triggerDeliver",e)},r(),s}e=e&&e.hasOwnProperty("default")?e["default"]:e;var ee=function(e,t){return e===t||e!==e&&t!==t},te=function(e,t){for(var r=e.length;r--;)if(ee(e[r][0],t))return r;return-1},re=Array.prototype,ne=re.splice;t.prototype.clear=function(){this.__data__=[],this.size=0},t.prototype["delete"]=function(e){var t=this.__data__,r=te(t,e);if(0>r)return!1;var n=t.length-1;return r==n?t.pop():ne.call(t,r,1),--this.size,!0},t.prototype.get=function(e){var t=this.__data__,r=te(t,e);return 0>r?void 0:t[r][1]},t.prototype.has=function(e){return-1<te(this.__data__,e)},t.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return 0>n?(++this.size,r.push([e,t])):r[n][1]=t,this};var oe=t,ie="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,ae="object"==r(ie)&&ie&&ie.Object===Object&&ie,se=ae,ce="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,de=se||ce||Function("return this")(),pe=de,le=pe.Symbol,ue=le,ye=Object.prototype,ge=ye.hasOwnProperty,be=ye.toString,fe=ue?ue.toStringTag:void 0,_e=function(e){var t=ge.call(e,fe),r=e[fe];try{e[fe]=void 0;var n=!0}catch(t){}var o=be.call(e);return n&&(t?e[fe]=r:delete e[fe]),o},he=Object.prototype,je=he.toString,me=function(e){return je.call(e)},Ae=ue?ue.toStringTag:void 0,xe=o,Oe=i,Se=function(e){if(!Oe(e))return!1;var t=xe(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},ve=pe["__core-js_shared__"],we=ve,Be=function(){var e=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ke=Function.prototype,Le=ke.toString,Ue=function(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ee=/[\\^$.*+?()[\]{}|]/g,Pe=/^\[object .+?Constructor\]$/,ze=Function.prototype,Te=Object.prototype,Ie=ze.toString,Me=Te.hasOwnProperty,De=RegExp("^"+Ie.call(Me).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=function(e){if(!Oe(e)||a(e))return!1;var t=Se(e)?De:Pe;return t.test(Ue(e))},Fe=function(e,t){return null==e?void 0:e[t]},Ce=function(e,t){var r=Fe(e,t);return Qe(r)?r:void 0},Re=Ce(pe,"Map"),Ve=Re,Ne=Ce(Object,"create"),We=Ne,He=Object.prototype,$e=He.hasOwnProperty,qe=Object.prototype,Ge=qe.hasOwnProperty;s.prototype.clear=function(){this.__data__=We?We(null):{},this.size=0},s.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s.prototype.get=function(e){var t=this.__data__;if(We){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return $e.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return We?t[e]!==void 0:Ge.call(t,e)},s.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=We&&void 0===t?"__lodash_hash_undefined__":t,this};var Je=s,Xe=function(e,t){var r=e.__data__;return c(t)?r["string"==typeof t?"string":"hash"]:r.map};d.prototype.clear=function(){this.size=0,this.__data__={hash:new Je,map:new(Ve||oe),string:new Je}},d.prototype["delete"]=function(e){var t=Xe(this,e)["delete"](e);return this.size-=t?1:0,t},d.prototype.get=function(e){return Xe(this,e).get(e)},d.prototype.has=function(e){return Xe(this,e).has(e)},d.prototype.set=function(e,t){var r=Xe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};var Ye=d;p.prototype.clear=function(){this.__data__=new oe,this.size=0},p.prototype["delete"]=function(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r},p.prototype.get=function(e){return this.__data__.get(e)},p.prototype.has=function(e){return this.__data__.has(e)},p.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!Ve||199>n.length)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ye(n)}return r.set(e,t),this.size=r.size,this};var Ze=p,Ke=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!(!1===t(e[r],r,e)););return e},et=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),tt=et,rt=function(e,t,r){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},nt=Object.prototype,ot=nt.hasOwnProperty,it=l,at=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),o?rt(r,s,c):it(r,s,c)}return r},st=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},ct=u,dt=function(e){return ct(e)&&xe(e)=="[object Arguments]"},pt=Object.prototype,lt=pt.hasOwnProperty,ut=pt.propertyIsEnumerable,yt=dt(function(){return arguments}())?dt:function(e){return ct(e)&&lt.call(e,"callee")&&!ut.call(e,"callee")},gt=Array.isArray,bt=gt,ft=function(){return!1},_t=n(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,i=o?pe.Buffer:void 0,a=i?i.isBuffer:void 0;e.exports=a||ft}),ht=/^(?:0|[1-9]\d*)$/,jt=function(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991},mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var At=function(e){return function(t){return e(t)}},xt=n(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,i=o&&se.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e?e:i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=a}),Ot=xt&&xt.isTypedArray,St=Ot?At(Ot):function(e){return ct(e)&&jt(e.length)&&!!mt[xe(e)]},vt=Object.prototype,wt=vt.hasOwnProperty,Bt=function(e,t){var r=bt(e),n=!r&&yt(e),o=!r&&!n&&_t(e),i=!r&&!n&&!o&&St(e),a=r||n||o||i,s=a?st(e.length,String):[],c=s.length;for(var d in e)(t||wt.call(e,d))&&!(a&&("length"==d||o&&("offset"==d||"parent"==d)||i&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||y(d,c)))&&s.push(d);return s},kt=Object.prototype,Lt=function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||kt;return e===r},Ut=function(e,t){return function(r){return e(t(r))}},Et=Ut(Object.keys,Object),Pt=Object.prototype,zt=Pt.hasOwnProperty,Tt=function(e){if(!Lt(e))return Et(e);var t=[];for(var r in Object(e))zt.call(e,r)&&"constructor"!=r&&t.push(r);return t},It=function(e){return null!=e&&jt(e.length)&&!Se(e)},Mt=function(e){return It(e)?Bt(e):Tt(e)},Dt=function(e,t){return e&&at(t,Mt(t),e)},Qt=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Ft=Object.prototype,Ct=Ft.hasOwnProperty,Rt=function(e){if(!Oe(e))return Qt(e);var t=Lt(e),r=[];for(var n in e)("constructor"!=n||!t&&Ct.call(e,n))&&r.push(n);return r},Vt=function(e){return It(e)?Bt(e,!0):Rt(e)},Nt=function(e,t){return e&&at(t,Vt(t),e)},Wt=n(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,i=o?pe.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}),Ht=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},$t=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i},qt=function(){return[]},Gt=Object.prototype,Jt=Gt.propertyIsEnumerable,Xt=Object.getOwnPropertySymbols,Yt=Xt?function(e){return null==e?[]:(e=Object(e),$t(Xt(e),function(t){return Jt.call(e,t)}))}:qt,Zt=Yt,Kt=function(e,t){return at(e,Zt(e),t)},er=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},tr=Ut(Object.getPrototypeOf,Object),rr=tr,nr=Object.getOwnPropertySymbols,or=nr?function(e){for(var t=[];e;)er(t,Zt(e)),e=rr(e);return t}:qt,ir=or,ar=function(e,t){return at(e,ir(e),t)},sr=function(e,t,r){var n=t(e);return bt(e)?n:er(n,r(e))},cr=function(e){return sr(e,Mt,Zt)},dr=function(e){return sr(e,Vt,ir)},pr=Ce(pe,"DataView"),lr=pr,ur=Ce(pe,"Promise"),yr=ur,gr=Ce(pe,"Set"),br=gr,fr=Ce(pe,"WeakMap"),_r=fr,hr="[object Map]",jr="[object Promise]",mr="[object Set]",Ar="[object WeakMap]",xr="[object DataView]",Or=Ue(lr),Sr=Ue(Ve),vr=Ue(yr),wr=Ue(br),Br=Ue(_r),kr=xe;(lr&&kr(new lr(new ArrayBuffer(1)))!=xr||Ve&&kr(new Ve)!=hr||yr&&kr(yr.resolve())!=jr||br&&kr(new br)!=mr||_r&&kr(new _r)!=Ar)&&(kr=function(e){var t=xe(e),r=t=="[object Object]"?e.constructor:void 0,n=r?Ue(r):"";if(n)switch(n){case Or:return xr;case Sr:return hr;case vr:return jr;case wr:return mr;case Br:return Ar;}return t});var Lr=kr,Ur=Object.prototype,Er=Ur.hasOwnProperty,Pr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Er.call(e,"index")&&(r.index=e.index,r.input=e.input),r},zr=pe.Uint8Array,Tr=zr,Ir=function(e){var t=new e.constructor(e.byteLength);return new Tr(t).set(new Tr(e)),t},Mr=function(e,t){var r=t?Ir(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Dr=/\w*$/,Qr=function(e){var t=new e.constructor(e.source,Dr.exec(e));return t.lastIndex=e.lastIndex,t},Fr=ue?ue.prototype:void 0,Cr=Fr?Fr.valueOf:void 0,Rr=function(e){return Cr?Object(Cr.call(e)):{}},Vr=function(e,t){var r=t?Ir(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Nr=function(e,t,r){var n=e.constructor;return"[object ArrayBuffer]"===t?Ir(e):"[object Boolean]"===t||"[object Date]"===t?new n(+e):"[object DataView]"===t?Mr(e,r):"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t?Vr(e,r):"[object Map]"===t?new n:"[object Number]"===t||"[object String]"===t?new n(e):"[object RegExp]"===t?Qr(e):"[object Set]"===t?new n:"[object Symbol]"===t?Rr(e):void 0},Wr=Object.create,Hr=function(){function e(){}return function(t){if(!Oe(t))return{};if(Wr)return Wr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),$r=function(e){return"function"!=typeof e.constructor||Lt(e)?{}:Hr(rr(e))},qr=xt&&xt.isMap,Gr=qr?At(qr):function(e){return ct(e)&&Lr(e)=="[object Map]"},Jr=Gr,Xr=xt&&xt.isSet,Yr=Xr?At(Xr):function(e){return ct(e)&&Lr(e)=="[object Set]"},Zr=Yr,Kr={};Kr["[object Arguments]"]=Kr["[object Array]"]=Kr["[object ArrayBuffer]"]=Kr["[object DataView]"]=Kr["[object Boolean]"]=Kr["[object Date]"]=Kr["[object Float32Array]"]=Kr["[object Float64Array]"]=Kr["[object Int8Array]"]=Kr["[object Int16Array]"]=Kr["[object Int32Array]"]=Kr["[object Map]"]=Kr["[object Number]"]=Kr["[object Object]"]=Kr["[object RegExp]"]=Kr["[object Set]"]=Kr["[object String]"]=Kr["[object Symbol]"]=Kr["[object Uint8Array]"]=Kr["[object Uint8ClampedArray]"]=Kr["[object Uint16Array]"]=Kr["[object Uint32Array]"]=!0,Kr["[object Error]"]=Kr["[object Function]"]=Kr["[object WeakMap]"]=!1;var en=function(e){return g(e,5)},tn=b,rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nn=/^\w*$/;_.Cache=Ye;var on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,an=/\\(\\)?/g,sn=function(e){var t=_(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(on,function(e,r,n,o){t.push(n?o.replace(an,"$1"):r||e)}),t}),cn=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},dn=1/0,pn=ue?ue.prototype:void 0,ln=pn?pn.toString:void 0,un=function(e){return null==e?"":h(e)},yn=function(e,t){return bt(e)?e:f(e,t)?[e]:sn(un(e))},gn=function(e){if("string"==typeof e||tn(e))return e;var t=e+"";return"0"==t&&1/e==-(1/0)?"-0":t},bn=function(e,t){t=yn(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[gn(t[r++])];return r&&r==n?e:void 0},fn=function(e,t,r){var n=null==e?void 0:bn(e,t);return n===void 0?r:n},_n=n(function(e){(function(t){function n(){}function o(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}function a(e){return!!("function"==typeof e||e instanceof RegExp)||!!(e&&"object"===r(e))&&a(e.listener)}var s=n.prototype,c=t.EventEmitter;s.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},s.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},s.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&(t={},t[e]=r),t||r},s.addListener=function(e,t){if(!a(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),s="object"===r(t);for(n in i)i.hasOwnProperty(n)&&-1===o(i[n],t)&&i[n].push(s?t:{listener:t,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var r,n,i=this.getListenersAsObject(e);for(n in i)i.hasOwnProperty(n)&&(r=o(i[n],t),-1!==r&&i[n].splice(r,1));return this},s.off=i("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var o,a,s=e?this.removeListener:this.addListener,c=e?this.removeListeners:this.addListeners;if("object"===r(t)&&!(t instanceof RegExp))for(o in t)t.hasOwnProperty(o)&&(a=t[o])&&("function"==typeof a?s.call(this,o,a):c.call(this,o,a));else for(o=n.length;o--;)s.call(this,t,n[o]);return this},s.removeEvent=function(e){var t,n=r(e),o=this._getEvents();if("string"===n)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(e,t){var r,n,o,a,s,c=this.getListenersAsObject(e);for(a in c)if(c.hasOwnProperty(a))for(r=c[a].slice(0),o=0;o<r.length;o++)n=r[o],!0===n.once&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},s.trigger=i("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},n.noConflict=function(){return t.EventEmitter=c,n},e.exports?e.exports=n:t.EventEmitter=n})("undefined"==typeof window?ie||{}:window)}),hn=0/0,jn=/^\s+|\s+$/g,mn=/^[-+]0x[0-9a-f]+$/i,An=/^0b[01]+$/i,xn=/^0o[0-7]+$/i,On=parseInt,Sn=function(e){if("number"==typeof e)return e;if(tn(e))return hn;if(Oe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jn,"");var r=An.test(e);return r||xn.test(e)?On(e.slice(2),r?2:8):mn.test(e)?hn:+e},vn=1/0,wn=function(e){if(!e)return 0===e?e:0;if(e=Sn(e),e===vn||e===-vn){var t=0>e?-1:1;return 1.7976931348623157e+308*t}return e===e?e:0},Bn=function(e){var t=wn(e),r=t%1;return t===t?r?t-r:t:0},kn=function(e){return"number"==typeof e&&e==Bn(e)},Ln=pe.isFinite,Un=function(e){var t=Math[e];return function(e,r){if(e=Sn(e),r=null==r?0:K(Bn(r),292),r&&Ln(e)){var n=(un(e)+"e").split("e"),o=t(n[0]+"e"+(+n[1]+r));return n=(un(o)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return t(e)}}("round"),En=Un,Pn=n(function(e,t){(function(r,n){e.exports=t=n()})(ie,function(){var e=e||function(e,t){var r=(0,eval)("this").Math.ceil,n=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},i=o.lib={},a=i.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=a.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r==t?4*e.length:r},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var a,s=0;s<o;s++)a=255&r[s>>>2]>>>24-8*(s%4),t[n+s>>>2]|=a<<24-8*((n+s)%4);else for(var s=0;s<o;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-8*(t%4),e.length=r(t/4)},clone:function e(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,o,a=[],c=function(t){var t=t,r=987654321,n=4294967295;return function(){r=36969*(65535&r)+(r>>16)&4294967295,t=18e3*(65535&t)+(t>>16)&4294967295;var o=(r<<16)+t&4294967295;return o/=4294967296,o+=.5,o*(.5<e.random()?1:-1)}},r=0;r<t;r+=4)o=c(4294967296*(n||e.random())),n=987654071*o(),a.push(0|4294967296*o());return new s.init(a,t)}}),c=o.enc={},d=c.Hex={stringify:function(e){for(var t,r=e.words,n=e.sigBytes,o=[],a=0;a<n;a++)t=255&r[a>>>2]>>>24-8*(a%4),o.push((t>>>4).toString(16)),o.push((15&t).toString(16));return o.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return new s.init(r,t/2)}},p=c.Latin1={stringify:function(e){for(var r,t=(0,eval)("this").String.fromCharCode,n=e.words,o=e.sigBytes,a=[],s=0;s<o;s++)r=255&n[s>>>2]>>>24-8*(s%4),a.push(t(r));return a.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return new s.init(r,t)}},l=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=(0,eval)("this").Math.max,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,c=i/(4*a);c=e?r(c):t((0|c)-this._minBufferSize,0);var d=c*a,p=K(4*d,i);if(d){for(var l=0;l<d;l+=a)this._doProcessBlock(o,l);var u=o.splice(0,d);n.sigBytes-=p}return new s.init(u,p)},clone:function e(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=i.Hasher=u.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}}),g=o.algo={};return o}(Math);return e})}),zn=n(function(e,t){(function(r,n){e.exports=t=n(Pn)})(ie,function(e){return function(){function t(e,t,r){for(var n=[],a=0,s=0;s<t;s++)if(s%4){var c=r[e.charCodeAt(s-1)]<<2*(s%4),d=r[e.charCodeAt(s)]>>>6-2*(s%4);n[a>>>2]|=(c|d)<<24-8*(a%4),a++}return o.create(n,a)}var r=e,n=r.lib,o=n.WordArray,i=r.enc,a=i.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=255&t[a>>>2]>>>24-8*(a%4),c=255&t[a+1>>>2]>>>24-8*((a+1)%4),d=255&t[a+2>>>2]>>>24-8*((a+2)%4),p=0;4>p&&a+.75*p<r;p++)o.push(n.charAt(63&(s<<16|c<<8|d)>>>6*(3-p)));var l=n.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var r=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(r=s)}return t(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})}),Tn=n(function(e,t){(function(r,n){e.exports=t=n(Pn)})(ie,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib,r=t.WordArray,n=r.init,o=r.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],o=0;o<t;o++)r[o>>>2]|=e[o]<<24-8*(o%4);n.call(this,r,t)}else n.apply(this,arguments)};o.prototype=r}}(),e.lib.WordArray})}),In={tagU8A:"[Uint8Array]::",u8arr2b64:function(e){return D(e)?"[Uint8Array]::"+V(e):e},b642u8arr:function(e){return x(e)&&"[Uint8Array]::"===F(e,14)?(e=R(e,14),N(e)):e},tagU16A:"[Uint16Array]::",u16arr2b64:function(e){return Q(e)?"[Uint16Array]::"+H(e):e},b642u16arr:function(e){return x(e)&&"[Uint16Array]::"===F(e,15)?(e=R(e,15),q(e)):e}};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=en(e),e.url||(e.url="ws://localhost:8080"),e.token||(e.token="*");var t=new Z(e);return t.on("deliver",function(e){var r=fn(e,"topic",null);r&&t.emit("queueChange",fn(e,"topic",null),fn(e,"id",null),fn(e,"input",null),fn(e,"output",null),fn(e,"state",null))}),t.pushQueue=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.execute("pushQueue",{topic:e,input:r,option:n})},t.modifyQueue=function(e,r,n,o,i){return t.execute("modifyQueue",{topic:e,id:r,input:n,output:o,state:i})},t.subTopic=function(e){return t.execute("subTopic",{topic:e})},t.unsubTopic=function(e){return t.execute("unsubTopic",{topic:e})},t.getQueueByTopic=function(e){return t.execute("getQueueByTopic",{topic:e})},t.getQueueByID=function(e){return t.execute("getQueueByID",{id:e})},t.getQueueByIDs=function(e){return t.execute("getQueueByIDs",{ids:e})},t.getQueueByMatches=function(e){return t.execute("getQueueByMatches",{find:e})},t.delQueueByTopic=function(e){return t.execute("delQueueByTopic",{topic:e})},t.delQueueByID=function(e){return t.execute("delQueueByID",{id:e})},t.delQueueByIDs=function(e){return t.execute("delQueueByIDs",{ids:e})},t.delQueueByMatches=function(e){return t.execute("delQueueByMatches",{find:e})},t}});
//# sourceMappingURL=w-runqws-client.umd.js.map
