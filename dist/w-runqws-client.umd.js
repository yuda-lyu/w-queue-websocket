/*!
 * w-runqws-client v1.0.26
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("ws")):"function"==typeof define&&define.amd?define(["ws"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-runqws-client"]=e(t.ws)}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){if(this instanceof t){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(e,r))}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var o=function(){this.__data__=[],this.size=0};var i=function(t,e){return t===e||t!=t&&e!=e},u=i;var c=function(t,e){for(var r=t.length;r--;)if(u(t[r][0],e))return r;return-1},a=c,f=Array.prototype.splice;var s=c;var l=c;var p=c;var v=o,y=function(t){var e=this.__data__,r=a(e,t);return!(r<0)&&(r==e.length-1?e.pop():f.call(e,r,1),--this.size,!0)},h=function(t){var e=this.__data__,r=s(e,t);return r<0?void 0:e[r][1]},d=function(t){return l(this.__data__,t)>-1},b=function(t,e){var r=this.__data__,n=p(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function g(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}g.prototype.clear=v,g.prototype.delete=y,g.prototype.get=h,g.prototype.has=d,g.prototype.set=b;var _=g,j=_;var w=function(){this.__data__=new j,this.size=0};var m=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var A=function(t){return this.__data__.get(t)};var x=function(t){return this.__data__.has(t)},O="object"==typeof e&&e&&e.Object===Object&&e,S=O,B="object"==typeof self&&self&&self.Object===Object&&self,U=S||B||Function("return this")(),k=U.Symbol,I=k,M=Object.prototype,P=M.hasOwnProperty,T=M.toString,z=I?I.toStringTag:void 0;var C=function(t){var e=P.call(t,z),r=t[z];try{t[z]=void 0;var n=!0}catch(t){}var o=T.call(t);return n&&(e?t[z]=r:delete t[z]),o},E=Object.prototype.toString;var F=C,L=function(t){return E.call(t)},D=k?k.toStringTag:void 0;var N=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":D&&D in Object(t)?F(t):L(t)};var Q=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$=N,W=Q;var R,V=function(t){if(!W(t))return!1;var e=$(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},H=U["__core-js_shared__"],q=(R=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"";var G=function(t){return!!q&&q in t},J=Function.prototype.toString;var K=function(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""},X=V,Y=G,Z=Q,tt=K,et=/^\[object .+?Constructor\]$/,rt=Function.prototype,nt=Object.prototype,ot=rt.toString,it=nt.hasOwnProperty,ut=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=function(t){return!(!Z(t)||Y(t))&&(X(t)?ut:et).test(tt(t))},at=function(t,e){return null==t?void 0:t[e]};var ft=function(t,e){var r=at(t,e);return ct(r)?r:void 0},st=ft(U,"Map"),lt=ft(Object,"create"),pt=lt;var vt=function(){this.__data__=pt?pt(null):{},this.size=0};var yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ht=lt,dt=Object.prototype.hasOwnProperty;var bt=function(t){var e=this.__data__;if(ht){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return dt.call(e,t)?e[t]:void 0},gt=lt,_t=Object.prototype.hasOwnProperty;var jt=lt;var wt=vt,mt=yt,At=bt,xt=function(t){var e=this.__data__;return gt?void 0!==e[t]:_t.call(e,t)},Ot=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jt&&void 0===e?"__lodash_hash_undefined__":e,this};function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}St.prototype.clear=wt,St.prototype.delete=mt,St.prototype.get=At,St.prototype.has=xt,St.prototype.set=Ot;var Bt=St,Ut=_,kt=st;var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Mt=function(t,e){var r=t.__data__;return It(e)?r["string"==typeof e?"string":"hash"]:r.map},Pt=Mt;var Tt=Mt;var zt=Mt;var Ct=Mt;var Et=function(){this.size=0,this.__data__={hash:new Bt,map:new(kt||Ut),string:new Bt}},Ft=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},Lt=function(t){return Tt(this,t).get(t)},Dt=function(t){return zt(this,t).has(t)},Nt=function(t,e){var r=Ct(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Qt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qt.prototype.clear=Et,Qt.prototype.delete=Ft,Qt.prototype.get=Lt,Qt.prototype.has=Dt,Qt.prototype.set=Nt;var $t=Qt,Wt=_,Rt=st,Vt=$t;var Ht=_,qt=w,Gt=m,Jt=A,Kt=x,Xt=function(t,e){var r=this.__data__;if(r instanceof Wt){var n=r.__data__;if(!Rt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vt(n)}return r.set(t,e),this.size=r.size,this};function Yt(t){var e=this.__data__=new Ht(t);this.size=e.size}Yt.prototype.clear=qt,Yt.prototype.delete=Gt,Yt.prototype.get=Jt,Yt.prototype.has=Kt,Yt.prototype.set=Xt;var Zt=Yt;var te=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},ee=ft,re=function(){try{var t=ee(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ne=function(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},oe=ne,ie=i,ue=Object.prototype.hasOwnProperty;var ce=function(t,e,r){var n=t[e];ue.call(t,e)&&ie(n,r)&&(void 0!==r||e in t)||oe(t,e,r)},ae=ce,fe=ne;var se=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,u=e.length;++i<u;){var c=e[i],a=n?n(r[c],t[c],c,r,t):void 0;void 0===a&&(a=t[c]),o?fe(r,c,a):ae(r,c,a)}return r};var le=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var pe=function(t){return null!=t&&"object"==typeof t},ve=N,ye=pe;var he=function(t){return ye(t)&&"[object Arguments]"==ve(t)},de=pe,be=Object.prototype,ge=be.hasOwnProperty,_e=be.propertyIsEnumerable,je=he(function(){return arguments}())?he:function(t){return de(t)&&ge.call(t,"callee")&&!_e.call(t,"callee")},we=je,me=Array.isArray,Ae={};var xe=function(){return!1};!function(t,e){var r=U,n=xe,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||n;t.exports=c}({get exports(){return Ae},set exports(t){Ae=t}},Ae);var Oe=/^(?:0|[1-9]\d*)$/;var Se=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Oe.test(t))&&t>-1&&t%1==0&&t<e};var Be=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ue=N,ke=Be,Ie=pe,Me={};Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object Boolean]"]=Me["[object DataView]"]=Me["[object Date]"]=Me["[object Error]"]=Me["[object Function]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object WeakMap]"]=!1;var Pe=function(t){return Ie(t)&&ke(t.length)&&!!Me[Ue(t)]};var Te=function(t){return function(e){return t(e)}},ze={};!function(t,e){var r=O,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}({get exports(){return ze},set exports(t){ze=t}},ze);var Ce=Pe,Ee=Te,Fe=ze&&ze.isTypedArray,Le=Fe?Ee(Fe):Ce,De=le,Ne=we,Qe=me,$e=Ae,We=Se,Re=Le,Ve=Object.prototype.hasOwnProperty;var He=function(t,e){var r=Qe(t),n=!r&&Ne(t),o=!r&&!n&&$e(t),i=!r&&!n&&!o&&Re(t),u=r||n||o||i,c=u?De(t.length,String):[],a=c.length;for(var f in t)!e&&!Ve.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||We(f,a))||c.push(f);return c},qe=Object.prototype;var Ge=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||qe)};var Je=function(t,e){return function(r){return t(e(r))}},Ke=Je(Object.keys,Object),Xe=Ge,Ye=Ke,Ze=Object.prototype.hasOwnProperty;var tr=V,er=Be;var rr=function(t){return null!=t&&er(t.length)&&!tr(t)},nr=He,or=function(t){if(!Xe(t))return Ye(t);var e=[];for(var r in Object(t))Ze.call(t,r)&&"constructor"!=r&&e.push(r);return e},ir=rr;var ur=function(t){return ir(t)?nr(t):or(t)},cr=se,ar=ur;var fr=function(t,e){return t&&cr(e,ar(e),t)};var sr=Q,lr=Ge,pr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},vr=Object.prototype.hasOwnProperty;var yr=He,hr=function(t){if(!sr(t))return pr(t);var e=lr(t),r=[];for(var n in t)("constructor"!=n||!e&&vr.call(t,n))&&r.push(n);return r},dr=rr;var br=function(t){return dr(t)?yr(t,!0):hr(t)},gr=se,_r=br;var jr=function(t,e){return t&&gr(e,_r(e),t)},wr={};!function(t,e){var r=U,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n?r.Buffer:void 0,u=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}({get exports(){return wr},set exports(t){wr=t}},wr);var mr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Ar=function(){return[]},xr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i},Or=Ar,Sr=Object.prototype.propertyIsEnumerable,Br=Object.getOwnPropertySymbols,Ur=Br?function(t){return null==t?[]:(t=Object(t),xr(Br(t),(function(e){return Sr.call(t,e)})))}:Or,kr=se,Ir=Ur;var Mr=function(t,e){return kr(t,Ir(t),e)};var Pr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Tr=Je(Object.getPrototypeOf,Object),zr=Pr,Cr=Tr,Er=Ur,Fr=Ar,Lr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)zr(e,Er(t)),t=Cr(t);return e}:Fr,Dr=se,Nr=Lr;var Qr=function(t,e){return Dr(t,Nr(t),e)},$r=Pr,Wr=me;var Rr=function(t,e,r){var n=e(t);return Wr(t)?n:$r(n,r(t))},Vr=Rr,Hr=Ur,qr=ur;var Gr=function(t){return Vr(t,qr,Hr)},Jr=Rr,Kr=Lr,Xr=br;var Yr=function(t){return Jr(t,Xr,Kr)},Zr=ft(U,"DataView"),tn=st,en=ft(U,"Promise"),rn=ft(U,"Set"),nn=ft(U,"WeakMap"),on=N,un=K,cn="[object Map]",an="[object Promise]",fn="[object Set]",sn="[object WeakMap]",ln="[object DataView]",pn=un(Zr),vn=un(tn),yn=un(en),hn=un(rn),dn=un(nn),bn=on;(Zr&&bn(new Zr(new ArrayBuffer(1)))!=ln||tn&&bn(new tn)!=cn||en&&bn(en.resolve())!=an||rn&&bn(new rn)!=fn||nn&&bn(new nn)!=sn)&&(bn=function(t){var e=on(t),r="[object Object]"==e?t.constructor:void 0,n=r?un(r):"";if(n)switch(n){case pn:return ln;case vn:return cn;case yn:return an;case hn:return fn;case dn:return sn}return e});var gn=bn,_n=Object.prototype.hasOwnProperty;var jn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&_n.call(t,"index")&&(r.index=t.index,r.input=t.input),r},wn=U.Uint8Array;var mn=function(t){var e=new t.constructor(t.byteLength);return new wn(e).set(new wn(t)),e},An=mn;var xn=function(t,e){var r=e?An(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},On=/\w*$/;var Sn=function(t){var e=new t.constructor(t.source,On.exec(t));return e.lastIndex=t.lastIndex,e},Bn=k?k.prototype:void 0,Un=Bn?Bn.valueOf:void 0;var kn=mn;var In=mn,Mn=xn,Pn=Sn,Tn=function(t){return Un?Object(Un.call(t)):{}},zn=function(t,e){var r=e?kn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Cn=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return In(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Mn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zn(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Pn(t);case"[object Symbol]":return Tn(t)}},En=Q,Fn=Object.create,Ln=function(){function t(){}return function(e){if(!En(e))return{};if(Fn)return Fn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Dn=Tr,Nn=Ge;var Qn=function(t){return"function"!=typeof t.constructor||Nn(t)?{}:Ln(Dn(t))},$n=gn,Wn=pe;var Rn=function(t){return Wn(t)&&"[object Map]"==$n(t)},Vn=Te,Hn=ze&&ze.isMap,qn=Hn?Vn(Hn):Rn,Gn=gn,Jn=pe;var Kn=function(t){return Jn(t)&&"[object Set]"==Gn(t)},Xn=Te,Yn=ze&&ze.isSet,Zn=Yn?Xn(Yn):Kn,to=Zt,eo=te,ro=ce,no=fr,oo=jr,io=wr,uo=mr,co=Mr,ao=Qr,fo=Gr,so=Yr,lo=gn,po=jn,vo=Cn,yo=Qn,ho=me,bo=Ae,go=qn,_o=Q,jo=Zn,wo=ur,mo=br,Ao="[object Arguments]",xo="[object Function]",Oo="[object Object]",So={};So[Ao]=So["[object Array]"]=So["[object ArrayBuffer]"]=So["[object DataView]"]=So["[object Boolean]"]=So["[object Date]"]=So["[object Float32Array]"]=So["[object Float64Array]"]=So["[object Int8Array]"]=So["[object Int16Array]"]=So["[object Int32Array]"]=So["[object Map]"]=So["[object Number]"]=So[Oo]=So["[object RegExp]"]=So["[object Set]"]=So["[object String]"]=So["[object Symbol]"]=So["[object Uint8Array]"]=So["[object Uint8ClampedArray]"]=So["[object Uint16Array]"]=So["[object Uint32Array]"]=!0,So["[object Error]"]=So[xo]=So["[object WeakMap]"]=!1;var Bo=function t(e,r,n,o,i,u){var c,a=1&r,f=2&r,s=4&r;if(n&&(c=i?n(e,o,i,u):n(e)),void 0!==c)return c;if(!_o(e))return e;var l=ho(e);if(l){if(c=po(e),!a)return uo(e,c)}else{var p=lo(e),v=p==xo||"[object GeneratorFunction]"==p;if(bo(e))return io(e,a);if(p==Oo||p==Ao||v&&!i){if(c=f||v?{}:yo(e),!a)return f?ao(e,oo(c,e)):co(e,no(c,e))}else{if(!So[p])return i?e:{};c=vo(e,p,a)}}u||(u=new to);var y=u.get(e);if(y)return y;u.set(e,c),jo(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,u))})):go(e)&&e.forEach((function(o,i){c.set(i,t(o,r,n,i,e,u))}));var h=l?void 0:(s?f?so:fo:f?mo:wo)(e);return eo(h||e,(function(o,i){h&&(o=e[i=o]),ro(c,i,t(o,r,n,i,e,u))})),c},Uo=Bo;var ko=function(t){return Uo(t,5)},Io=N,Mo=pe;var Po=function(t){return"symbol"==typeof t||Mo(t)&&"[object Symbol]"==Io(t)},To=me,zo=Po,Co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eo=/^\w*$/;var Fo=function(t,e){if(To(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!zo(t))||(Eo.test(t)||!Co.test(t)||null!=e&&t in Object(e))},Lo=$t;function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(Do.Cache||Lo),r}Do.Cache=Lo;var No=Do;var Qo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$o=/\\(\\)?/g,Wo=function(t){var e=No(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Qo,(function(t,r,n,o){e.push(n?o.replace($o,"$1"):r||t)})),e}));var Ro=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Vo=me,Ho=Po,qo=k?k.prototype:void 0,Go=qo?qo.toString:void 0;var Jo=function t(e){if("string"==typeof e)return e;if(Vo(e))return Ro(e,t)+"";if(Ho(e))return Go?Go.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},Ko=Jo;var Xo=function(t){return null==t?"":Ko(t)},Yo=me,Zo=Fo,ti=Wo,ei=Xo;var ri=Po;var ni=function(t,e){return Yo(t)?t:Zo(t,e)?[t]:ti(ei(t))},oi=function(t){if("string"==typeof t||ri(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var ii=function(t,e){for(var r=0,n=(e=ni(e,t)).length;null!=t&&r<n;)t=t[oi(e[r++])];return r&&r==n?t:void 0};var ui=function(t,e,r){var n=null==t?void 0:ii(t,e);return void 0===n?r:n},ci={};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,u){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new o(n,i||t,u),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],c]:t._events[a].push(c):(t._events[a]=c,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function c(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},c.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,u=new Array(i);o<i;o++)u[o]=n[o].fn;return u},c.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,o,i,u){var c=r?r+t:t;if(!this._events[c])return!1;var a,f,s=this._events[c],l=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),l){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,o),!0;case 5:return s.fn.call(s.context,e,n,o,i),!0;case 6:return s.fn.call(s.context,e,n,o,i,u),!0}for(f=1,a=new Array(l-1);f<l;f++)a[f-1]=arguments[f];s.fn.apply(s.context,a)}else{var p,v=s.length;for(f=0;f<v;f++)switch(s[f].once&&this.removeListener(t,s[f].fn,void 0,!0),l){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,e);break;case 3:s[f].fn.call(s[f].context,e,n);break;case 4:s[f].fn.call(s[f].context,e,n,o);break;default:if(!a)for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];s[f].fn.apply(s[f].context,a)}}return!0},c.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var c=this._events[i];if(c.fn)c.fn!==e||o&&!c.once||n&&c.context!==n||u(this,i);else{for(var a=0,f=[],s=c.length;a<s;a++)(c[a].fn!==e||o&&!c[a].once||n&&c[a].context!==n)&&f.push(c[a]);f.length?this._events[i]=1===f.length?f[0]:f:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&u(this,e)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}({get exports(){return ci},set exports(t){ci=t}});var ai=ci;function fi(){return new ai}var si=/\s/;var li=function(t){for(var e=t.length;e--&&si.test(t.charAt(e)););return e},pi=/^\s+/;var vi=function(t){return t?t.slice(0,li(t)+1).replace(pi,""):t},yi=Q,hi=Po,di=/^[-+]0x[0-9a-f]+$/i,bi=/^0b[01]+$/i,gi=/^0o[0-7]+$/i,_i=parseInt;var ji=function(t){if("number"==typeof t)return t;if(hi(t))return NaN;if(yi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=yi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=vi(t);var r=bi.test(t);return r||gi.test(t)?_i(t.slice(2),r?2:8):di.test(t)?NaN:+t},wi=ji,mi=1/0;var Ai=function(t){return t?(t=wi(t))===mi||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},xi=Ai;var Oi=function(t){var e=xi(t),r=e%1;return e==e?r?e-r:e:0},Si=Oi;var Bi=function(t){return"number"==typeof t&&t==Si(t)};function Ui(t){return"[object String]"===Object.prototype.toString.call(t)}function ki(t){return!(!Ui(t)||""===t)}function Ii(t){let e=!1;return ki(t)?e=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(e=!0),e}function Mi(t){if(!Ii(t))return 0;return Ai(t)}function Pi(t){return!!Ii(t)&&(t=Mi(t),Bi(t))}var Ti=Oi,zi=ji,Ci=Xo,Ei=U.isFinite,Fi=Math.min;var Li=function(t){var e=Math[t];return function(t,r){if(t=zi(t),(r=null==r?0:Fi(Ti(r),292))&&Ei(t)){var n=(Ci(t)+"e").split("e"),o=e(n[0]+"e"+(+n[1]+r));return+((n=(Ci(o)+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round");function Di(t){if(!Ii(t))return 0;t=Mi(t);let e=Li(t);return"0"===String(e)?0:e}function Ni(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0,r=[];var n;Pi(n=t)&&Di(n)<0&&(t=0),t=Di(t);let o=fi();return o.get=function(){if(r.length>0){return e+=1,r.splice(0,1)[0]}return null},o.cb=function(){e-=1,e<0&&(e=0),r.length>0&&o.emit("message",r)},o.push=function(n){r.push(n),(t<=0||e<t)&&o.emit("message",r)},o.clear=function(){e=0,r=[]},o}function Qi(){return"undefined"!=typeof window&&void 0!==window.document}function $i(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function Wi(e){let r=null;e.url||(e.url="ws://localhost:8080"),e.token||(e.token="*");let n,o=function(){let t=Qi(),e="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;return t=t||e,{isBrowser:t,isWebWorker:e,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}}().isBrowser;n=o?("undefined"!=typeof self?self:Qi()?window:"undefined"!=typeof global?global:null).WebSocket:t;try{r=new n(e.url+"/?token="+e.token)}catch(t){r=null}if(null===r)return{error:"can not new MixWS"};function i(){$i(e.open)&&e.open()}function u(){$i(e.close)&&e.close()}function c(t){$i(e.message)&&e.message(t)}function a(t){$i(e.error)&&e.error(t),r.close()}return o?(r.onopen=i,r.onmessage=function(t){c(t.data)},r.onclose=u,r.onerror=a):(r.on("open",i),r.on("message",c),r.on("close",u),r.on("error",a)),r}let Ri="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Vi=Ri.length;function Hi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];var r;t=Pi(r=t)&&Di(r)>0?Di(t):32;for(let r=0;r<t;r++)e[r]=Ri[0|Math.random()*Vi];return e.join("")}var qi=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i},Gi=i,Ji=rr,Ki=Se,Xi=Q;var Yi=function(t,e,r){if(!Xi(r))return!1;var n=typeof e;return!!("number"==n?Ji(r)&&Ki(e,r.length):"string"==n&&e in r)&&Gi(r[e],t)},Zi=qi,tu=Yi,eu=Oi,ru=Math.ceil,nu=Math.max;var ou=function(t,e,r){e=(r?tu(t,e,r):void 0===e)?1:nu(eu(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,i=0,u=Array(ru(n/e));o<n;)u[i++]=Zi(t,o,o+=e);return u},iu=Array.prototype.join;var uu=function(t,e){return null==t?"":iu.call(t,e)},cu={},au={get exports(){return cu},set exports(t){cu=t}};var fu=function(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),c=u.length;c--;){var a=u[t?c:++o];if(!1===r(i[a],a,i))break}return e}}(),su=ur;var lu=rr;var pu=function(t,e){return function(r,n){if(null==r)return r;if(!lu(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&fu(t,e,su)}));var vu=function(t){return t};var yu=te,hu=pu,du=function(t){return"function"==typeof t?t:vu},bu=me;var gu=function(t,e){return(bu(t)?yu:hu)(t,du(e))};!function(t){t.exports=gu}(au);var _u=r(cu);function ju(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function wu(t){return"[object Uint16Array]"===Object.prototype.toString.call(t)}function mu(t){if(!Pi(t))return!1;return Di(t)>=0}function Au(t,e){return ki(t)&&mu(e)?0===(e=Di(e))?"":t.substring(0,e):""}function xu(t,e){return ki(t)&&mu(e)?0===(e=Di(e))?t:function(t,e){if(!ki(t))return"";if(!mu(e))return"";if(0===(e=Di(e)))return"";let r=t.length-e;return r<0&&(r=0),t.substr(r,e)}(t,t.length-e):""}var Ou={},Su={get exports(){return Ou},set exports(t){Ou=t}};var Bu,Uu={},ku={get exports(){return Uu},set exports(t){Uu=t}},Iu=n(Object.freeze({__proto__:null,default:{}}));function Mu(){return Bu||(Bu=1,function(t,r){var n;t.exports=(n=n||function(t,r){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==e&&e.crypto&&(n=e.crypto),!n)try{n=Iu}catch(t){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),u={},c=u.lib={},a=c.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=c.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=r?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var u=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=u<<24-(n+i)%4*8}else for(var c=0;c<o;c+=4)e[n+c>>>2]=r[c>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(o());return new f.init(e,t)}}),s=u.enc={},l=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new f.init(r,e/2)}},p=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new f.init(r,e)}},v=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},y=c.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=v.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,o=n.words,i=n.sigBytes,u=this.blockSize,c=i/(4*u),a=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*u,s=t.min(4*a,i);if(a){for(var l=0;l<a;l+=u)this._doProcessBlock(o,l);r=o.splice(0,a),n.sigBytes-=s}return new f.init(r,s)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});c.Hasher=y.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new h.HMAC.init(t,r).finalize(e)}}});var h=u.algo={};return u}(Math),n)}(ku)),Uu}!function(t,e){var r;t.exports=(r=Mu(),function(){var t=r,e=t.lib.WordArray;function n(t,r,n){for(var o=[],i=0,u=0;u<r;u++)if(u%4){var c=n[t.charCodeAt(u-1)]<<u%4*2|n[t.charCodeAt(u)]>>>6-u%4*2;o[i>>>2]|=c<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var u=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<r;c++)o.push(n.charAt(u>>>6*(3-c)&63));var a=n.charAt(64);if(a)for(;o.length%4;)o.push(a);return o.join("")},parse:function(t){var e=t.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var u=r.charAt(64);if(u){var c=t.indexOf(u);-1!==c&&(e=c)}return n(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}(Su);var Pu=Ou,Tu={};!function(t,e){var r;t.exports=(r=Mu(),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init,n=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],o=0;o<r;o++)n[o>>>2]|=t[o]<<24-o%4*8;e.call(this,n,r)}else e.apply(this,arguments)};n.prototype=t}}(),r.lib.WordArray)}({get exports(){return Tu},set exports(t){Tu=t}});var zu=Tu;function Cu(t){if(!ju(t))return"";return zu.create(t).toString(Pu)}function Eu(t){if(!Ui(t))return new Uint8Array;let e=Pu.parse(t),r=e.words,n=e.sigBytes,o=new Uint8Array(n);for(let t=0;t<n;t++){let e=r[t>>>2]>>>24-t%4*8&255;o[t]=e}return o}function Fu(t){return wu(t)?Cu(function(t){return wu(t)?new Uint8Array(t):new Uint8Array}(t)):""}function Lu(t){if(!Ui(t))return new Uint16Array;let e=function(t){return ju(t)?new Uint16Array(t):new Uint16Array}(Eu(t));return e}let Du="[Uint8Array]::";let Nu="[Uint16Array]::";let Qu={tagU8A:Du,u8arr2b64:function(t){return ju(t)?Du+Cu(t):t},b642u8arr:function(t){return Ui(t)&&Au(t,Du.length)===Du?Eu(t=xu(t,Du.length)):t},tagU16A:Nu,u16arr2b64:function(t){return wu(t)?Nu+Fu(t):t},b642u16arr:function(t){return Ui(t)&&Au(t,Nu.length)===Nu?Lu(t=xu(t,Nu.length)):t}};function $u(t){return"[object Array]"===Object.prototype.toString.call(t)}function Wu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Uint8Array";if(r=t,"[object Undefined]"===Object.prototype.toString.call(r))return"";var r;if(Ui(e))e=[e];else if(!$u(e))return"";let n="";try{n=JSON.stringify(t,(function(t,r){return e.indexOf("Uint8Array")>=0&&(r=Qu.u8arr2b64(r)),e.indexOf("Uint16Array")>=0&&(r=Qu.u16arr2b64(r)),r}))}catch(t){n=""}return n}var Ru=qi;var Vu=function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Ru(t,e,r)},Hu=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var qu=function(t){return Hu.test(t)},Gu=N,Ju=pe;var Ku=function(t){return Ju(t)&&"[object RegExp]"==Gu(t)},Xu=Te,Yu=ze&&ze.isRegExp,Zu=Yu?Xu(Yu):Ku;var tc=function(t){return t.split("")},ec="\\ud800-\\udfff",rc="["+ec+"]",nc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",oc="\\ud83c[\\udffb-\\udfff]",ic="[^"+ec+"]",uc="(?:\\ud83c[\\udde6-\\uddff]){2}",cc="[\\ud800-\\udbff][\\udc00-\\udfff]",ac="(?:"+nc+"|"+oc+")"+"?",fc="[\\ufe0e\\ufe0f]?",sc=fc+ac+("(?:\\u200d(?:"+[ic,uc,cc].join("|")+")"+fc+ac+")*"),lc="(?:"+[ic+nc+"?",nc,uc,cc,rc].join("|")+")",pc=RegExp(oc+"(?="+oc+")|"+lc+sc,"g");var vc=tc,yc=qu,hc=function(t){return t.match(pc)||[]};var dc=Jo,bc=Vu,gc=qu,_c=Yi,jc=Zu,wc=function(t){return yc(t)?hc(t):vc(t)},mc=Xo;var Ac=function(t,e,r){return r&&"number"!=typeof r&&_c(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=mc(t))&&("string"==typeof e||null!=e&&!jc(e))&&!(e=dc(e))&&gc(t)?bc(wc(t),0,r):t.split(e,r):[]},xc=qi,Oc=Oi;var Sc=function(t,e,r){var n=null==t?0:t.length;return n?(e=r||void 0===e?1:Oc(e),xc(t,e<0?0:e,n)):[]},Bc=Math.ceil,Uc=Math.max;var kc=function(t,e,r,n){for(var o=-1,i=Uc(Bc((e-t)/(r||1)),0),u=Array(i);i--;)u[n?i:++o]=t,t+=r;return u},Ic=Yi,Mc=Ai;var Pc=function(t){return function(e,r,n){return n&&"number"!=typeof n&&Ic(e,r,n)&&(r=n=void 0),e=Mc(e),void 0===r?(r=e,e=0):r=Mc(r),n=void 0===n?e<r?1:-1:Mc(n),kc(e,r,n,t)}}();function Tc(t,e){return r=t,"[object Object]"===Object.prototype.toString.call(r)&&(!(!ki(e)&&!Ii(e))&&e in t);var r}let zc={};function Cc(t,e){let r=Ac(t,"|"),n=r[0],o=ji(r[1]),i=ji(r[2]),u=uu(Sc(r,3),"|");if(Tc(zc,n)||(zc[n]={}),zc[n]["_"+o]=u,o===i-1){let t="";_u(Pc(i),(function(e){t+=zc[n]["_"+e]})),delete zc[n];let r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Uint8Array";if(Ui(e))e=[e];else if(!$u(e))return{};let r={};try{r=JSON.parse(t,(function(t,r){return e.indexOf("Uint8Array")>=0&&(r=Qu.b642u8arr(r)),e.indexOf("Uint16Array")>=0&&(r=Qu.b642u16arr(r)),r}))}catch(t){r={}}return r}(t);e(r)}}function Ec(t){let e=!1,r=null,n=new fi,o=new fi;function i(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];setTimeout((()=>{n.emit(t,...r)}),1)}function u(){t.url||(t.url="ws://localhost:8080"),t.token||(t.token="*"),t.strSplitLength||(t.strSplitLength=1e6);let u={url:t.url,token:t.token,open:function(){i("open"),e||(i("openOnce"),e=!0)},close:function(){i("close"),c()},message:function(t){!function(t){Cc(t,f)}(t)},error:function(t){a(t)}};try{r=new Wi(u)}catch(t){return i("error",{msg:"can not create websocket",err:t}),void c()}if(ui(r,"error"))return i("error",{msg:"can not create websocket",err:"can not new MixWS in WWebsocketClient"}),void c();function a(t){i("error",{msg:"websocket error",err:t}),r.close()}function f(t){let e=ui(t,"_mode","");if("execute"===e)if(ui(t,"_id")&&ui(t,"output")){let e=ui(t,"_id"),r=ui(t,"output");o.emit(e,r)}else i("error",{msg:"can not find _id and output in data",err:t});else"broadcast"===e?i("broadcast",ui(t,"data")):"deliver"===e?i("deliver",ui(t,"data")):a({msg:"can not find _mode in data",err:t})}function s(e,n){r.readyState===r.OPEN&&function(t,e,r,n,o){let i=Wu(r),u=ou(i,e),c=Hi(),a=u.length;_u(u,(function(e,r){e=uu(e,"");let i=`${c}|${r}|${a}|${e}`;t.send(i,(function(t){t&&V(o)&&o(t)})),V(n)&&n((r+1)/a*100)}))}(r,t.strSplitLength,e,n,(function(t){i("error",{msg:"can not send message",err:t})}))}n.removeAllListeners("triggerExecute"),n.on("triggerExecute",(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=Hi();s({_mode:"execute",_id:i,func:t,input:e},n),o.on(i,(function(t){r(t),o.removeAllListeners(i)}))})),n.removeAllListeners("triggerBroadcast"),n.on("triggerBroadcast",(function(t,e){s({_mode:"broadcast",data:t},e)})),n.removeAllListeners("triggerDeliver"),n.on("triggerDeliver",(function(t,e){s({_mode:"deliver",data:t},e)}))}function c(){setTimeout((function(){i("reconn"),u()}),1e3)}return n.execute=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=function(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}();return i("triggerExecute",t,e,(function(t){n.resolve(t)}),r),n},n.broadcast=function(t){i("triggerBroadcast",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){})},n.deliver=function(t){i("triggerDeliver",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){})},u(),n}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=ko(t),t.url||(t.url="ws://localhost:8080"),t.token||(t.token="*"),t.takeNumLimit||(t.takeNumLimit=0);let e=new Ec(t),r=Ni(t.takeNumLimit);return r.on("message",(function(t){let n=r.get();n&&e.emit("queueChange",ui(n,"topic",null),ui(n,"id",null),ui(n,"input",null),ui(n,"output",null),ui(n,"state",null),(function(){r.cb()}))})),e.on("deliver",(function(t){ui(t,"topic",null)&&r.push(t)})),e.pushQueue=function(t,r){let n={topic:t,input:r,option:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};return e.execute("pushQueue",n)},e.modifyQueue=function(t,r,n,o,i){let u={topic:t,id:r,input:n,output:o,state:i};return e.execute("modifyQueue",u)},e.subTopic=function(t){let r={topic:t};return e.execute("subTopic",r)},e.unsubTopic=function(t){let r={topic:t};return e.execute("unsubTopic",r)},e.getQueueByTopic=function(t){let r={topic:t};return e.execute("getQueueByTopic",r)},e.getQueueByID=function(t){let r={id:t};return e.execute("getQueueByID",r)},e.getQueueByIDs=function(t){let r={ids:t};return e.execute("getQueueByIDs",r)},e.getQueueByMatches=function(t){let r={find:t};return e.execute("getQueueByMatches",r)},e.delQueueByTopic=function(t){let r={topic:t};return e.execute("delQueueByTopic",r)},e.delQueueByID=function(t){let r={id:t};return e.execute("delQueueByID",r)},e.delQueueByIDs=function(t){let r={ids:t};return e.execute("delQueueByIDs",r)},e.delQueueByMatches=function(t){let r={find:t};return e.execute("delQueueByMatches",r)},e}}));
//# sourceMappingURL=w-runqws-client.umd.js.map
