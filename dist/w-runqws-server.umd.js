/*!
 * w-runqws-server v1.0.12
 * (c) 2018-2019 yuda-lyu(semisphere)
 * Released under the MIT License.
 */(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("ws"),require("events"),require("mongodb"),require("stream")):"function"==typeof define&&define.amd?define(["ws","events","mongodb","stream"],t):(e=e||self,e["w-runqws-server"]=t(e.ws,e.events,e.mongodb,e.stream))})(this,function(e,t,n,r){'use strict';var be=Math.max,me=Math.ceil,_e=Math.min;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,o,a,c){try{var i=e[a](c),d=i.value}catch(e){return void n(e)}i.done?t(d):Promise.resolve(d).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function c(e){a(d,r,o,c,i,"next",e)}function i(e){a(d,r,o,c,i,"throw",e)}var d=e.apply(t,n);c(void 0)})}}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function d(e,t,n,r,o,a,c){try{var i=e[a](c),d=i.value}catch(e){return void n(e)}i.done?t(d):Promise.resolve(d).then(r,o)}function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":We&&We in Object(e)?Ne(e):Re(e)}function p(e){var t=o(e);return null!=e&&("object"==t||"function"==t)}function u(e){return!!Ke&&Ke in e}function y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(e){var t=o(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function g(e){var t=this.__data__=new Be(e);this.size=t.size}function b(e,t,n){var r=e[t];Ot.call(e,t)&&ve(r,n)&&(n!==void 0||t in e)||At(e,t,n)}function m(e){return null!=e&&"object"==o(e)}function _(e,t){var n=o(e);return t=null==t?9007199254740991:t,!!t&&("number"==n||"symbol"!=n&&Qt.test(e))&&-1<e&&0==e%1&&e<t}function x(e,t,n,r,o,a){var c,i=1&t,d=2&t;if(n&&(c=o?n(e,r,o,a):n(e)),void 0!==c)return c;if(!Ve(e))return e;var l=Ct(e);if(!l){var s=nr(e),p="[object Function]"==s||"[object GeneratorFunction]"==s;if(Gt(e))return bn(e,i);if("[object Object]"!=s&&"[object Arguments]"!=s&&(!p||o)){if(!kr[s])return o?e:{};c=gr(e,s,i)}else if(c=d||p?{}:_r(e),!i)return d?Pn(e,gn(c,e)):kn(e,sn(c,e))}else if(c=ar(e),!i)return mn(e,c);a||(a=new jt);var u=a.get(e);if(u)return u;a.set(e,c),Ar(e)?e.forEach(function(r){c.add(x(r,t,n,r,e,a))}):wr(e)&&e.forEach(function(r,o){c.set(o,x(r,t,n,o,e,a))});var y=4&t?d?In:Fn:d?keysIn:ln,h=l?void 0:y(e);return wt(h||e,function(r,o){h&&(o=r,r=e[o]),Bt(c,o,x(r,t,n,o,e,a))}),c}function j(e){return"symbol"==o(e)||Ut(e)&&He(e)=="[object Symbol]"}function w(e,t){if(Ct(e))return!1;var n=o(e);return!!("number"==n||"symbol"==n||"boolean"==n||null==e||Er(e))||Ur.test(e)||!Lr.test(e)||null!=t&&e in Object(t)}function S(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var c=e.apply(this,r);return n.cache=a.set(o,c)||a,c};return n.cache=new(S.Cache||xt),n}function v(e){if("string"==typeof e)return e;if(Ct(e))return Ir(e,v)+"";if(Er(e))return Cr?Cr.call(e):"";var t=e+"";return"0"==t&&1/e==-Dr?"-0":t}function A(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xt;++t<n;)this.add(e[t])}function k(e,t,n,r,o,a){var c=1&n,i=Fn(e),d=i.length,l=Fn(t),s=l.length;if(d!=s&&!c)return!1;for(var p,u=d;u--;)if(p=i[u],c?!(p in t):!to.call(t,p))return!1;var y=a.get(e);if(y&&a.get(t))return y==t;var h=!0;a.set(e,t),a.set(t,e);for(var f=c;++u<d;){p=i[u];var g=e[p],b=t[p];if(r)var m=c?r(b,g,p,t,e,a):r(g,b,p,e,t,a);if(void 0===m?!(g===b||o(g,b,n,r,a)):!m){h=!1;break}f||(f="constructor"==p)}if(h&&!f){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(h=!1)}return a["delete"](e),a["delete"](t),h}function O(e,t,n,r,o){return!(e!==t)||(null!=e&&null!=t&&(Ut(e)||Ut(t))?oo(e,t,n,r,O,o):e!==e&&t!==t)}function B(e,t,n,r){var o=n.length,a=o,c=!r;if(null==e)return!a;for(e=Object(e);o--;){var i=n[o];if(c&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){i=n[o];var d=i[0],l=e[d],s=i[1];if(!(c&&i[2])){var p=new jt;if(r)var u=r(l,s,d,e,t,p);if(void 0===u?!ao(s,l,3,r,p):!u)return!1}else if(void 0===l&&!(d in e))return!1}return!0}function E(e,t){return null!=e&&t in Object(e)}function L(e){return"function"==typeof e?e:null==e?ho:"object"==o(e)?Ct(e)?yo(e[0],e[1]):so(e):bo(e)}function U(e){var t=Object.prototype.toString.call(e);return"[object String]"===t}function z(e){return!!(U(e)&&""!==e)}function P(e){var t=Object.prototype.toString.call(e);return"[object Number]"===t}function T(e){var t=!1;return z(e)?t=!isNaN(+e):P(e)&&(t=!0),t}function F(e){if(!T(e))return 0;var t=Uo(e);return t}function I(e){return!!T(e)&&(e=F(e),Po(e))}function D(e){if(!T(e))return 0;e=F(e);var t=Io(e);return"0"===t+""?0:t}function M(e){if(!I(e))return!1;var t=0<D(e);return t}function C(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:32,n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o=[],a=n.length;if(M(t))for(e=0;e<t;e++)o[e]=n[0|Math.random()*a];else if("rfc4122"===t){o[8]=o[13]=o[18]=o[23]="-",o[14]="4";var c;for(e=0;36>e;e++)o[e]||(c=0|16*Math.random(),o[e]=n[19===e?8|3&c:c])}else return"";var d=o.join("");return d}function N(){var e,t,n=new Promise(function(){e=arguments[0],t=arguments[1]});return n.resolve=e,n.reject=t,n}function G(e,t,n){if(!Ve(n))return!1;var r=o(t);return!("number"==r?!(dn(n)&&Rt(t,n.length)):!("string"==r&&t in n))&&ve(n[t],e)}function Q(e){if(!z(e))return{};if(e=oa(e,"?"),e=Hr(e,"[1]"),!z(e))return{};var t=oa(e,"&");return t=wo(t,function(e){return oa(e,"=")}),t=aa(t),t}function R(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t}function W(e){if(R(e)){for(var t in e)return!0;return!1}return!1}function H(e,t){return W(e)?z(t)?Hr(e,t,""):"":""}function V(e){if(!z(e)&&!T(e))return"";return e+""}function q(e,t){var n=H(e,t);return n=V(n),n}function $(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}function Y(e){var t=Object.prototype.toString.call(e);return"[object Uint8Array]"===t}function K(e){var t=Object.prototype.toString.call(e);return"[object Uint16Array]"===t}function J(e,t){return z(e)?M(t)?e.substr(0,t):"":""}function X(e,t){if(!z(e))return"";if(!M(t))return"";var n=e.length-t;return 0>n&&(n=0),e.substr(n,t)}function Z(e,t){return z(e)?M(t)?X(e,e.length-t):"":""}function ee(e){if(!Y(e))return"";var t=ha.create(e),n=t.toString(ya);return n}function te(e){if(!U(e))return new Uint8Array;for(var t,n=ya.parse(e),r=n.words,o=n.sigBytes,a=new Uint8Array(o),c=0;c<o;c++)t=255&r[c>>>2]>>>24-8*(c%4),a[c]=t;return a}function ne(e){return K(e)?new Uint8Array(e):new Uint8Array}function re(e){return K(e)?ee(ne(e)):""}function oe(e){return Y(e)?new Uint16Array(e):new Uint16Array}function ae(e){if(!U(e))return new Uint16Array;var t=te(e),n=oe(t);return n}function ce(e){var t=Object.prototype.toString.call(e);return"[object Undefined]"===t}function ie(e){var t=Object.prototype.toString.call(e);return"[object Array]"===t}function de(e){function t(e,t){return 0<=n.indexOf("Uint8Array")&&(t=fa.u8arr2b64(t)),0<=n.indexOf("Uint16Array")&&(t=fa.u16arr2b64(t)),t}var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Uint8Array";if(ce(e))return"";if(U(n))n=[n];else if(ie(n));else return"";var r="";try{r=JSON.stringify(e,t)}catch(e){r=""}return r}function le(e,t,n,r,o){var a=de(n),c=ca(a,t),i=C(),d=c.length;pa(c,function(t,n){t=la(t,"");var a="".concat(i,"|").concat(n,"|").concat(d,"|").concat(t);e.send(a,function(e){e&&qe(o)&&o(e)}),qe(r)&&r(100*((n+1)/d))})}function se(e){function t(e,t){return 0<=n.indexOf("Uint8Array")&&(t=fa.b642u8arr(t)),0<=n.indexOf("Uint16Array")&&(t=fa.b642u16arr(t)),t}var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Uint8Array";if(U(n))n=[n];else if(ie(n));else return{};var r={};try{r=JSON.parse(e,t)}catch(e){r={}}return r}function pe(e,t){return!!R(e)&&!!z(t)&&t in e}function ue(e,t){var n=oa(e,"|"),r=n[0],o=Eo(n[1]),a=Eo(n[2]),c=la(ga(n,3),"|");if(pe(xa,r)||(xa[r]={}),xa[r]["_"+o]=c,o===a-1){var i="";pa(_a(a),function(e){i+=xa[r]["_"+e]}),delete xa[r];var d=se(i);t(d)}}function ye(){function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];setTimeout(function(){i.emit.apply(i,[e].concat(n))},1)}function r(e){var t=N();return $(c.authenticate)?c.authenticate(e).then(function(e){t.resolve(e)}):t.resolve(!0),t}function o(e){n("error",e)}function a(){n("clientChange",p)}var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c=Br(c),c.port||(c.port=8080),c.strSplitLength||(c.strSplitLength=1e6);var i=new t.EventEmitter,d=e.Server,l={port:c.port,verifyClient:function(e,t){var n=Q(e.req.url),o=q(n,"token");r(o).then(function(e){t(e)})}},s=null;try{s=new d(l)}catch(e){o({msg:"can not create websocket",err:e})}if(!s)return i;(function(){n("open")})();var p=[];return s.on("connection",function(t){function r(n,r){t.readyState===e.OPEN&&le(t,c.strSplitLength,n,r,function(e){o({msg:"can not send message",err:e})})}function d(e){function t(t){e.output=t,delete e.input,r(e,null)}var a=q(e,"_mode");if("execute"===a){var c=q(e,"func"),i=Hr(e,"input");n("execute",c,i,t,r)}else"broadcast"===a?n("broadcast",Hr(e,"data")):"deliver"===a?n("deliver",Hr(e,"data")):o({msg:"can not find _mode in data",err:e})}function l(e){ue(e,d)}p.push(t),a(),t.on("close",function(){p=p.filter(function(e){return e!==t}),a()}),t.sendData=r,t.on("message",l),i.on("triggerBroadcast",function(e,t){r({_mode:"broadcast",data:e},t)})}),i.broadcast=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};n("triggerBroadcast",e,t)},i}function he(e,t,n,r,o){var a=-1,c=e.length;for(n||(n=za),o||(o=[]);++a<c;){var i=e[a];0<t&&n(i)?1<t?he(i,t-1,n,r,o):On(o,i):!r&&(o[o.length]=i)}return o}function fe(e,n){var r=N();if(!ie(e))return r.reject("rs is not array"),r;$(n)||(n=function(e){return e});var o=[];return e.reduce(function(e,r){return e.then(function(e){return o.push(e),n(r)})},Promise.resolve()).then(function(e){o.push(e),o=ga(o),r.resolve(o)})["catch"](function(e){r.reject(e)}),r}function ge(){function e(){return t.apply(this,arguments)}function t(){return t=c(regeneratorRuntime.mark(function e(){var t,n,r,o,a,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<c.length&&void 0!==c[0]?c[0]:{},n=N(),e.next=4,k.connect(A.url,Ra);case 4:return r=e.sent,o=r.db(A.db),a=o.collection(A.cl),a.find(t).toArray(function(e,t){e?n.reject(e):(t=wo(t,function(e){return e=Qa(e,"_id"),e}),n.resolve(t)),r.close()}),e.abrupt("return",n);case 9:case"end":return e.stop();}},e)})),t.apply(this,arguments)}function o(){return a.apply(this,arguments)}function a(){return a=c(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Br(t),n=N(),e.next=4,k.connect(A.url,Ra);case 4:return r=e.sent,o=r.db(A.db),a=o.collection(A.cl),ie(t)||(t=[t]),t=wo(t,function(e){return e.id||(e.id=C()),e}),a.insertMany(t,function(e,t){e?n.reject(e):0<t.insertedCount?n.resolve(t.result):n.reject(e),r.close()}),e.abrupt("return",n);case 11:case"end":return e.stop();}},e)})),a.apply(this,arguments)}function i(){return d.apply(this,arguments)}function d(){return d=c(regeneratorRuntime.mark(function e(t){var n,r,a,c,i,d,l,s,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<p.length&&void 0!==p[1]?p[1]:{},t=Br(t),r=Hr(n,"autoInsert",!0),a=Hr(n,"atomic",!1),c=N(),e.next=7,k.connect(A.url,Ra);case 7:return i=e.sent,d=i.db(A.db),l=d.collection(A.cl),ie(t)||(t=[t]),s=null,s=a?"findOneAndUpdate":"updateOne",fe(t,function(e){var t=N();return l[s]({id:e.id},{$set:e},function(n,a){n?t.reject(n):(a.lastErrorObject&&(a.result={n:a.lastErrorObject.n,nModified:a.lastErrorObject.updatedExisting?1:0,ok:1}),r&&0===a.result.n?o(e).then(function(e){e.nInserted=1,t.resolve(e)})["catch"](function(e){t.reject(e)}):t.resolve(a.result))}),t}).then(function(e){c.resolve(e)})["catch"](function(e){c.reject(e)})["finally"](function(){i.close()}),e.abrupt("return",c);case 15:case"end":return e.stop();}},e)})),d.apply(this,arguments)}function l(){return s.apply(this,arguments)}function s(){return s=c(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Br(t),n=N(),e.next=4,k.connect(A.url,Ra);case 4:return r=e.sent,o=r.db(A.db),a=o.collection(A.cl),ie(t)||(t=[t]),fe(t,function(e){var t=N();return a.deleteOne({id:e.id},function(e,n){e?t.resolve(e):(n=n.result,n.nDeleted=1,t.resolve(n))}),t}).then(function(e){n.resolve(e)})["catch"](function(e){n.reject(e)})["finally"](function(){r.close()}),e.abrupt("return",n);case 10:case"end":return e.stop();}},e)})),s.apply(this,arguments)}function p(){return u.apply(this,arguments)}function u(){return u=c(regeneratorRuntime.mark(function e(){var t,n,r,o,a,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<c.length&&void 0!==c[0]?c[0]:{},n=N(),e.next=4,k.connect(A.url,Ra);case 4:return r=e.sent,o=r.db(A.db),a=o.collection(A.cl),a.deleteMany(t,function(e,t){e?n.resolve(e):(t=t.result,n.resolve(t)),r.close()}),e.abrupt("return",n);case 9:case"end":return e.stop();}},e)})),u.apply(this,arguments)}function y(){return h.apply(this,arguments)}function h(){return h=c(regeneratorRuntime.mark(function e(t){var o,a,c,i,d,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=N(),a=C(),c=Buffer.from(t),e.next=5,k.connect(A.url,Ra);case 5:return i=e.sent,d=i.db(A.db),l=new n.GridFSBucket(d,{chunkSizeBytes:10485760,bucketName:A.cl}),s=new r.Readable,s._read=function(){},s.push(c),s.push(null),s.pipe(l.openUploadStream(a)).on("error",function(e){o.reject(e),i.close()}).on("finish",function(){o.resolve({n:1,ok:1,id:a}),i.close()}),e.abrupt("return",o);case 14:case"end":return e.stop();}},e)})),h.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=c(regeneratorRuntime.mark(function e(t){var r,o,a,c,i,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(),e.next=3,k.connect(A.url,Ra);case 3:return o=e.sent,a=o.db(A.db),c=new n.GridFSBucket(a,{chunkSizeBytes:10485760,bucketName:A.cl}),i=Buffer.from(""),d=c.openDownloadStreamByName(t),d.on("data",function(e){i=Buffer.concat([i,e])}),d.on("error",function(e){r.reject(e),o.close()}),d.on("end",function(){var e=new Uint8Array(i);i=null,r.resolve(e),o.close()}),e.abrupt("return",r);case 12:case"end":return e.stop();}},e)})),g.apply(this,arguments)}function b(){return m.apply(this,arguments)}function m(){return m=c(regeneratorRuntime.mark(function e(){var t,r,o,a,c,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:{},r=1<i.length&&void 0!==i[1]?i[1]:null,o=N(),null!==r){e.next=9;break}return e.next=6,k.connect(A.url,Ra);case 6:a=e.sent,c=a.db(A.db),r=new n.GridFSBucket(c,{chunkSizeBytes:10485760,bucketName:A.cl});case 9:return r.find(t).toArray(function(e,t){e?o.reject(e):o.resolve(t)}),e.abrupt("return",o);case 11:case"end":return e.stop();}},e)})),m.apply(this,arguments)}function _(){return x.apply(this,arguments)}function x(){return x=c(regeneratorRuntime.mark(function e(t){var r,o,a,c,i,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(),e.next=3,k.connect(A.url,Ra);case 3:return o=e.sent,a=o.db(A.db),c=new n.GridFSBucket(a,{chunkSizeBytes:10485760,bucketName:A.cl}),e.next=8,b({filename:t},c);case 8:return i=e.sent,0===i.length?(r.reject("can not find id"),o.close()):1<i.length?(r.reject("duplicate id"),o.close()):(d=i[0]._id,c["delete"](d,function(e){e?r.reject(e):r.resolve({n:1,nDeleted:1,ok:1}),o.close()})),e.abrupt("return",r);case 11:case"end":return e.stop();}},e)})),x.apply(this,arguments)}function j(){return w.apply(this,arguments)}function w(){return w=c(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(),n["delete"](t,function(e){e?r.reject(e):r.resolve({n:1,nDeleted:1,ok:1})}),e.abrupt("return",r);case 3:case"end":return e.stop();}},e)})),w.apply(this,arguments)}function S(){return v.apply(this,arguments)}function v(){return v=c(regeneratorRuntime.mark(function e(){var t,r,o,a,c,i,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<l.length&&void 0!==l[0]?l[0]:{},r=N(),e.next=4,k.connect(A.url,Ra);case 4:return o=e.sent,a=o.db(A.db),c=new n.GridFSBucket(a,{chunkSizeBytes:10485760,bucketName:A.cl}),e.next=9,b(t,c);case 9:return i=e.sent,d=wo(i,function(e){var t=e._id;return j(t,c)}),Promise.all(d).then(function(){r.resolve({n:i.length,ok:1})})["catch"](function(e){r.reject(e)})["finally"](function(){o.close()}),e.abrupt("return",r);case 13:case"end":return e.stop();}},e)})),v.apply(this,arguments)}var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};A.url||(A.url="mongodb://127.0.0.1:27017"),A.db||(A.db="worm"),A.cl||(A.cl="test");var k=n.MongoClient;return{select:e,insert:o,save:i,del:l,delAll:p,selectGfs:f,insertGfs:y,delGfs:_,delAllGfs:S}}e=e&&e.hasOwnProperty("default")?e["default"]:e,t=t&&t.hasOwnProperty("default")?t["default"]:t,n=n&&n.hasOwnProperty("default")?n["default"]:n,r=r&&r.hasOwnProperty("default")?r["default"]:r;var xe="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,je=i(function(e){var t=function(e){function t(e,t,n,o){var a=t&&t.prototype instanceof r?t:r,c=Object.create(a.prototype),i=new y(o||[]);return c._invoke=l(e,n,i),c}function n(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function c(){}function i(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function t(r,a,c,i){var d=n(e[r],e,a);if("throw"===d.type)i(d.arg);else{var l=d.arg,s=l.value;return s&&"object"===o(s)&&m.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,c,i)},function(e){t("throw",e,c,i)}):Promise.resolve(s).then(function(e){l.value=e,c(l)},function(e){return t("throw",e,c,i)})}}function r(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return a=a?a.then(r,r):r()}var a;this._invoke=r}function l(e,t,r){var o="suspendedStart";return function(a,c){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw c;return f()}for(r.method=a,r.arg=c;;){var i=r.delegate;if(i){var d=s(i,r);if(d){if(d===S)continue;return d}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var l=n(e,t,r);if("normal"===l.type){if(o=r.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o="completed",r.method="throw",r.arg=l.arg)}}}function s(e,t){var r=e.iterator[t.method];if(r===g){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=g,s(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var a=o.arg;if(!a)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S;if(a.done)t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g);else return a;return t.delegate=null,S}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function h(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:f}}function f(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},x=_.iterator||"@@iterator",j=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag";e.wrap=t;var S={},v={};v[x]=function(){return this};var A=Object.getPrototypeOf,k=A&&A(A(h([])));k&&k!==b&&m.call(k,x)&&(v=k);var O=c.prototype=r.prototype=Object.create(v);return a.prototype=O.constructor=c,c.constructor=a,c[w]=a.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,!(w in e)&&(e[w]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},i(d.prototype),d.prototype[j]=function(){return this},e.AsyncIterator=d,e.async=function(n,r,o,a){var c=new d(t(n,r,o,a));return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},i(O),O[w]="Generator",O[x]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=h,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var c=m.call(o,"catchLoc"),d=m.call(o,"finallyLoc");if(c&&d){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);}else if(!d)throw new Error("try statement without catch or finally");else if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}},abrupt:function(e,t){for(var n,r=this.tryEntries.length-1;0<=r;--r)if(n=this.tryEntries[r],n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),u(t),S},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;u(t)}return o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),S}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}),we=je,Se=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}var i=e.apply(t,n);a(void 0)})}},ve=function(e,t){return e===t||e!==e&&t!==t},Ae=function(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1},ke=Array.prototype,Oe=ke.splice;l.prototype.clear=function(){this.__data__=[],this.size=0},l.prototype["delete"]=function(e){var t=this.__data__,n=Ae(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Oe.call(t,n,1),--this.size,!0},l.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return 0>n?void 0:t[n][1]},l.prototype.has=function(e){return-1<Ae(this.__data__,e)},l.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Be=l,Ee="object"==o(xe)&&xe&&xe.Object===Object&&xe,Le=Ee,Ue="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,ze=Le||Ue||Function("return this")(),Pe=ze,Te=Pe.Symbol,Fe=Te,Ie=Object.prototype,De=Ie.hasOwnProperty,Me=Ie.toString,Ce=Fe?Fe.toStringTag:void 0,Ne=function(e){var t=De.call(e,Ce),n=e[Ce];try{e[Ce]=void 0;var r=!0}catch(t){}var o=Me.call(e);return r&&(t?e[Ce]=n:delete e[Ce]),o},Ge=Object.prototype,Qe=Ge.toString,Re=function(e){return Qe.call(e)},We=Fe?Fe.toStringTag:void 0,He=s,Ve=p,qe=function(e){if(!Ve(e))return!1;var t=He(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},$e=Pe["__core-js_shared__"],Ye=$e,Ke=function(){var e=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Je=Function.prototype,Xe=Je.toString,Ze=function(e){if(null!=e){try{return Xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""},et=/[\\^$.*+?()[\]{}|]/g,tt=/^\[object .+?Constructor\]$/,nt=Function.prototype,rt=Object.prototype,ot=nt.toString,at=rt.hasOwnProperty,ct=RegExp("^"+ot.call(at).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=function(e){if(!Ve(e)||u(e))return!1;var t=qe(e)?ct:tt;return t.test(Ze(e))},dt=function(e,t){return null==e?void 0:e[t]},lt=function(e,t){var n=dt(e,t);return it(n)?n:void 0},st=lt(Pe,"Map"),pt=st,ut=lt(Object,"create"),yt=ut,ht=Object.prototype,ft=ht.hasOwnProperty,gt=Object.prototype,bt=gt.hasOwnProperty;y.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},y.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},y.prototype.get=function(e){var t=this.__data__;if(yt){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return ft.call(t,e)?t[e]:void 0},y.prototype.has=function(e){var t=this.__data__;return yt?t[e]!==void 0:bt.call(t,e)},y.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yt&&void 0===t?"__lodash_hash_undefined__":t,this};var mt=y,_t=function(e,t){var n=e.__data__;return h(t)?n["string"==typeof t?"string":"hash"]:n.map};f.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(pt||Be),string:new mt}},f.prototype["delete"]=function(e){var t=_t(this,e)["delete"](e);return this.size-=t?1:0,t},f.prototype.get=function(e){return _t(this,e).get(e)},f.prototype.has=function(e){return _t(this,e).has(e)},f.prototype.set=function(e,t){var n=_t(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var xt=f;g.prototype.clear=function(){this.__data__=new Be,this.size=0},g.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},g.prototype.get=function(e){return this.__data__.get(e)},g.prototype.has=function(e){return this.__data__.has(e)},g.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Be){var r=n.__data__;if(!pt||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xt(r)}return n.set(e,t),this.size=n.size,this};var jt=g,wt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!(!1===t(e[n],n,e)););return e},St=function(){try{var e=lt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),vt=St,At=function(e,t,n){"__proto__"==t&&vt?vt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},kt=Object.prototype,Ot=kt.hasOwnProperty,Bt=b,Et=function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var i=t[a],d=r?r(n[i],e[i],i,n,e):void 0;d===void 0&&(d=e[i]),o?At(n,i,d):Bt(n,i,d)}return n},Lt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Ut=m,zt=function(e){return Ut(e)&&He(e)=="[object Arguments]"},Pt=Object.prototype,Tt=Pt.hasOwnProperty,Ft=Pt.propertyIsEnumerable,It=zt(function(){return arguments}())?zt:function(e){return Ut(e)&&Tt.call(e,"callee")&&!Ft.call(e,"callee")},Dt=It,Mt=Array.isArray,Ct=Mt,Nt=function(){return!1},Gt=i(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,a=o?Pe.Buffer:void 0,c=a?a.isBuffer:void 0;e.exports=c||Nt}),Qt=/^(?:0|[1-9]\d*)$/,Rt=_,Wt=function(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991},Ht={};Ht["[object Float32Array]"]=Ht["[object Float64Array]"]=Ht["[object Int8Array]"]=Ht["[object Int16Array]"]=Ht["[object Int32Array]"]=Ht["[object Uint8Array]"]=Ht["[object Uint8ClampedArray]"]=Ht["[object Uint16Array]"]=Ht["[object Uint32Array]"]=!0,Ht["[object Arguments]"]=Ht["[object Array]"]=Ht["[object ArrayBuffer]"]=Ht["[object Boolean]"]=Ht["[object DataView]"]=Ht["[object Date]"]=Ht["[object Error]"]=Ht["[object Function]"]=Ht["[object Map]"]=Ht["[object Number]"]=Ht["[object Object]"]=Ht["[object RegExp]"]=Ht["[object Set]"]=Ht["[object String]"]=Ht["[object WeakMap]"]=!1;var Vt=function(e){return function(t){return e(t)}},qt=i(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,a=o&&Le.process,c=function(){try{var e=r&&r.require&&r.require("util").types;return e?e:a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=c}),$t=qt&&qt.isTypedArray,Yt=$t?Vt($t):function(e){return Ut(e)&&Wt(e.length)&&!!Ht[He(e)]},Kt=Yt,Jt=Object.prototype,Xt=Jt.hasOwnProperty,Zt=function(e,t){var n=Ct(e),r=!n&&Dt(e),o=!n&&!r&&Gt(e),a=!n&&!r&&!o&&Kt(e),c=n||r||o||a,i=c?Lt(e.length,String):[],d=i.length;for(var l in e)(t||Xt.call(e,l))&&!(c&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Rt(l,d)))&&i.push(l);return i},en=Object.prototype,tn=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||en;return e===n},nn=function(e,t){return function(n){return e(t(n))}},rn=nn(Object.keys,Object),on=Object.prototype,an=on.hasOwnProperty,cn=function(e){if(!tn(e))return rn(e);var t=[];for(var n in Object(e))an.call(e,n)&&"constructor"!=n&&t.push(n);return t},dn=function(e){return null!=e&&Wt(e.length)&&!qe(e)},ln=function(e){return dn(e)?Zt(e):cn(e)},sn=function(e,t){return e&&Et(t,ln(t),e)},pn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},un=Object.prototype,yn=un.hasOwnProperty,hn=function(e){if(!Ve(e))return pn(e);var t=tn(e),n=[];for(var r in e)("constructor"!=r||!t&&yn.call(e,r))&&n.push(r);return n},fn=function(e){return dn(e)?Zt(e,!0):hn(e)},gn=function(e,t){return e&&Et(t,fn(t),e)},bn=i(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,a=o?Pe.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}),mn=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},_n=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var c=e[n];t(c,n,e)&&(a[o++]=c)}return a},xn=function(){return[]},jn=Object.prototype,wn=jn.propertyIsEnumerable,Sn=Object.getOwnPropertySymbols,vn=Sn?function(e){return null==e?[]:(e=Object(e),_n(Sn(e),function(t){return wn.call(e,t)}))}:xn,An=vn,kn=function(e,t){return Et(e,An(e),t)},On=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Bn=nn(Object.getPrototypeOf,Object),En=Bn,Ln=Object.getOwnPropertySymbols,Un=Ln?function(e){for(var t=[];e;)On(t,An(e)),e=En(e);return t}:xn,zn=Un,Pn=function(e,t){return Et(e,zn(e),t)},Tn=function(e,t,n){var r=t(e);return Ct(e)?r:On(r,n(e))},Fn=function(e){return Tn(e,ln,An)},In=function(e){return Tn(e,fn,zn)},Dn=lt(Pe,"DataView"),Mn=Dn,Cn=lt(Pe,"Promise"),Nn=Cn,Gn=lt(Pe,"Set"),Qn=Gn,Rn=lt(Pe,"WeakMap"),Wn=Rn,Hn="[object Map]",Vn="[object Promise]",qn="[object Set]",$n="[object WeakMap]",Yn="[object DataView]",Kn=Ze(Mn),Jn=Ze(pt),Xn=Ze(Nn),Zn=Ze(Qn),er=Ze(Wn),tr=He;(Mn&&tr(new Mn(new ArrayBuffer(1)))!=Yn||pt&&tr(new pt)!=Hn||Nn&&tr(Nn.resolve())!=Vn||Qn&&tr(new Qn)!=qn||Wn&&tr(new Wn)!=$n)&&(tr=function(e){var t=He(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Ze(n):"";if(r)switch(r){case Kn:return Yn;case Jn:return Hn;case Xn:return Vn;case Zn:return qn;case er:return $n;}return t});var nr=tr,rr=Object.prototype,or=rr.hasOwnProperty,ar=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&or.call(e,"index")&&(n.index=e.index,n.input=e.input),n},cr=Pe.Uint8Array,ir=cr,dr=function(e){var t=new e.constructor(e.byteLength);return new ir(t).set(new ir(e)),t},lr=function(e,t){var n=t?dr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},sr=/\w*$/,pr=function(e){var t=new e.constructor(e.source,sr.exec(e));return t.lastIndex=e.lastIndex,t},ur=Fe?Fe.prototype:void 0,yr=ur?ur.valueOf:void 0,hr=function(e){return yr?Object(yr.call(e)):{}},fr=function(e,t){var n=t?dr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},gr=function(e,t,n){var r=e.constructor;return"[object ArrayBuffer]"===t?dr(e):"[object Boolean]"===t||"[object Date]"===t?new r(+e):"[object DataView]"===t?lr(e,n):"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t?fr(e,n):"[object Map]"===t?new r:"[object Number]"===t||"[object String]"===t?new r(e):"[object RegExp]"===t?pr(e):"[object Set]"===t?new r:"[object Symbol]"===t?hr(e):void 0},br=Object.create,mr=function(){function e(){}return function(t){if(!Ve(t))return{};if(br)return br(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),_r=function(e){return"function"!=typeof e.constructor||tn(e)?{}:mr(En(e))},xr=qt&&qt.isMap,jr=xr?Vt(xr):function(e){return Ut(e)&&nr(e)=="[object Map]"},wr=jr,Sr=qt&&qt.isSet,vr=Sr?Vt(Sr):function(e){return Ut(e)&&nr(e)=="[object Set]"},Ar=vr,kr={};kr["[object Arguments]"]=kr["[object Array]"]=kr["[object ArrayBuffer]"]=kr["[object DataView]"]=kr["[object Boolean]"]=kr["[object Date]"]=kr["[object Float32Array]"]=kr["[object Float64Array]"]=kr["[object Int8Array]"]=kr["[object Int16Array]"]=kr["[object Int32Array]"]=kr["[object Map]"]=kr["[object Number]"]=kr["[object Object]"]=kr["[object RegExp]"]=kr["[object Set]"]=kr["[object String]"]=kr["[object Symbol]"]=kr["[object Uint8Array]"]=kr["[object Uint8ClampedArray]"]=kr["[object Uint16Array]"]=kr["[object Uint32Array]"]=!0,kr["[object Error]"]=kr["[object Function]"]=kr["[object WeakMap]"]=!1;var Or=x,Br=function(e){return Or(e,5)},Er=j,Lr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,zr=w;S.Cache=xt;var Pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tr=/\\(\\)?/g,Fr=function(e){var t=S(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pr,function(e,n,r,o){t.push(r?o.replace(Tr,"$1"):n||e)}),t}),Ir=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Dr=1/0,Mr=Fe?Fe.prototype:void 0,Cr=Mr?Mr.toString:void 0,Nr=v,Gr=function(e){return null==e?"":Nr(e)},Qr=function(e,t){return Ct(e)?e:zr(e,t)?[e]:Fr(Gr(e))},Rr=function(e){if("string"==typeof e||Er(e))return e;var t=e+"";return"0"==t&&1/e==-(1/0)?"-0":t},Wr=function(e,t){t=Qr(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Rr(t[n++])];return n&&n==r?e:void 0},Hr=function(e,t,n){var r=null==e?void 0:Wr(e,t);return r===void 0?n:r};A.prototype.add=A.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},A.prototype.has=function(e){return this.__data__.has(e)};var Vr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},qr=function(e,t){return e.has(t)},$r=function(e,t,n,r,o,a){var c=1&n,i=e.length,d=t.length;if(i!=d&&!(c&&d>i))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var s=-1,p=!0,u=2&n?new A:void 0;for(a.set(e,t),a.set(t,e);++s<i;){var y=e[s],h=t[s];if(r)var f=c?r(h,y,s,t,e,a):r(y,h,s,e,t,a);if(void 0!==f){if(f)continue;p=!1;break}if(u){if(!Vr(t,function(e,t){if(!qr(u,t)&&(y===e||o(y,e,n,r,a)))return u.push(t)})){p=!1;break}}else if(!(y===h||o(y,h,n,r,a))){p=!1;break}}return a["delete"](e),a["delete"](t),p},Yr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Kr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Jr=Fe?Fe.prototype:void 0,Xr=Jr?Jr.valueOf:void 0,Zr=function(e,t,n,r,o,a,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!!(e.byteLength==t.byteLength&&a(new ir(e),new ir(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var i=Yr;case"[object Set]":var d=1&r;if(i||(i=Kr),e.size!=t.size&&!d)return!1;var l=c.get(e);if(l)return l==t;r|=2,c.set(e,t);var s=$r(i(e),i(t),r,o,a,c);return c["delete"](e),s;case"[object Symbol]":if(Xr)return Xr.call(e)==Xr.call(t);}return!1},eo=Object.prototype,to=eo.hasOwnProperty,no=Object.prototype,ro=no.hasOwnProperty,oo=function(e,t,n,r,o,a){var c=Ct(e),i=Ct(t),d=c?"[object Array]":nr(e),l=i?"[object Array]":nr(t);d="[object Arguments]"==d?"[object Object]":d,l="[object Arguments]"==l?"[object Object]":l;var s="[object Object]"==d,p="[object Object]"==l,u=d==l;if(u&&Gt(e)){if(!Gt(t))return!1;c=!0,s=!1}if(u&&!s)return a||(a=new jt),c||Kt(e)?$r(e,t,n,r,o,a):Zr(e,t,d,n,r,o,a);if(!(1&n)){var y=s&&ro.call(e,"__wrapped__"),h=p&&ro.call(t,"__wrapped__");if(y||h){var f=y?e.value():e,g=h?t.value():t;return a||(a=new jt),o(f,g,n,r,a)}}return!!u&&(a||(a=new jt),k(e,t,n,r,o,a))},ao=O,co=function(e){return e===e&&!Ve(e)},io=function(e){for(var t=ln(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,co(o)]}return t},lo=function(e,t){return function(n){return null!=n&&n[e]===t&&(t!==void 0||e in Object(n))}},so=function(e){var t=io(e);return 1==t.length&&t[0][2]?lo(t[0][0],t[0][1]):function(n){return n===e||B(n,e,t)}},po=function(e,t,n){t=Qr(t,e);for(var r,o=-1,a=t.length,c=!1;++o<a&&(r=Rr(t[o]),!!(c=null!=e&&n(e,r)));)e=e[r];return c||++o!=a?c:(a=null==e?0:e.length,!!a&&Wt(a)&&Rt(r,a)&&(Ct(e)||Dt(e)))},uo=function(e,t){return null!=e&&po(e,t,E)},yo=function(e,t){return zr(e)&&co(t)?lo(Rr(e),t):function(n){var r=Hr(n,e);return r===void 0&&r===t?uo(n,e):ao(t,r,3)}},ho=function(e){return e},fo=function(e){return function(t){return null==t?void 0:t[e]}},go=function(e){return function(t){return Wr(t,e)}},bo=function(e){return zr(e)?fo(Rr(e)):go(e)},mo=function(e){return function(t,n,r){for(var o=-1,a=Object(t),c=r(t),i=c.length;i--;){var d=c[e?i:++o];if(!1===n(a[d],d,a))break}return t}}(),_o=function(e,t){return function(n,r){if(null==n)return n;if(!dn(n))return e(n,r);for(var o=n.length,a=t?o:-1,c=Object(n);(t?a--:++a<o)&&!(!1===r(c[a],a,c)););return n}}(function(e,t){return e&&mo(e,t,ln)}),xo=_o,jo=function(e,t){var n=-1,r=dn(e)?Array(e.length):[];return xo(e,function(e,o,a){r[++n]=t(e,o,a)}),r},wo=function(e,t){var n=Ct(e)?Ir:jo;return n(e,L(t))},So=0/0,vo=/^\s+|\s+$/g,Ao=/^[-+]0x[0-9a-f]+$/i,ko=/^0b[01]+$/i,Oo=/^0o[0-7]+$/i,Bo=parseInt,Eo=function(e){if("number"==typeof e)return e;if(Er(e))return So;if(Ve(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ve(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vo,"");var n=ko.test(e);return n||Oo.test(e)?Bo(e.slice(2),n?2:8):Ao.test(e)?So:+e},Lo=1/0,Uo=function(e){if(!e)return 0===e?e:0;if(e=Eo(e),e===Lo||e===-Lo){var t=0>e?-1:1;return 1.7976931348623157e+308*t}return e===e?e:0},zo=function(e){var t=Uo(e),n=t%1;return t===t?n?t-n:t:0},Po=function(e){return"number"==typeof e&&e==zo(e)},To=Pe.isFinite,Fo=function(e){var t=Math[e];return function(e,n){if(e=Eo(e),n=null==n?0:_e(zo(n),292),n&&To(e)){var r=(Gr(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(Gr(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}("round"),Io=Fo,Do=function(e,t,n){var r=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a},Mo=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Do(e,t,n)},Co=RegExp("["+"\\u200d"+"\\ud800-\\udfff"+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"\\ufe0e\\ufe0f"+"]"),No=function(e){return Co.test(e)},Go=G,Qo=qt&&qt.isRegExp,Ro=Qo?Vt(Qo):function(e){return Ut(e)&&He(e)=="[object RegExp]"},Wo=function(e){return e.split("")},Ho="\\ud800-\\udfff",Vo="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",qo="\\ud83c[\\udffb-\\udfff]",$o="[^"+Ho+"]",Yo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ko="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="(?:"+Vo+"|"+qo+")"+"?",Xo="["+"\\ufe0e\\ufe0f"+"]?",Zo="(?:"+"\\u200d"+"(?:"+[$o,Yo,Ko].join("|")+")"+Xo+Jo+")*",ea="(?:"+[$o+Vo+"?",Vo,Yo,Ko,"["+Ho+"]"].join("|")+")",ta=RegExp(qo+"(?="+qo+")|"+ea+(Xo+Jo+Zo),"g"),na=function(e){return e.match(ta)||[]},ra=function(e){return No(e)?na(e):Wo(e)},oa=function(e,t,n){return(n&&"number"!=typeof n&&Go(e,t,n)&&(t=n=void 0),n=void 0===n?4294967295:n>>>0,!n)?[]:(e=Gr(e),e&&("string"==typeof t||null!=t&&!Ro(t))&&(t=Nr(t),!t&&No(e))?Mo(ra(e),0,n):e.split(t,n))},aa=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},ca=function(e,t,n){t=(n?Go(e,t,n):void 0===t)?1:be(zo(t),0);var r=null==e?0:e.length;if(!r||1>t)return[];for(var o=0,a=0,c=Array(me(r/t));o<r;)c[a++]=Do(e,o,o+=t);return c},ia=Array.prototype,da=ia.join,la=function(e,t){return null==e?"":da.call(e,t)},sa=function(e){return"function"==typeof e?e:ho},pa=function(e,t){var n=Ct(e)?wt:xo;return n(e,sa(t))},ua=i(function(e,t){(function(n,r){e.exports=t=r()})(xe,function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},a=o.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=o.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n==t?4*e.length:n},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var a,c=0;c<o;c++)a=255&n[c>>>2]>>>24-8*(c%4),t[r+c>>>2]|=a<<24-8*((r+c)%4);else for(var c=0;c<o;c+=4)t[r+c>>>2]=n[c>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-8*(t%4),e.length=me(t/4)},clone:function e(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,o,a=[],d=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var o=(n<<16)+t&r;return o/=4294967296,o+=.5,o*(.5<e.random()?1:-1)}},r=0;r<t;r+=4)o=d(4294967296*(n||e.random())),n=987654071*o(),a.push(0|4294967296*o());return new c.init(a,t)}}),i=r.enc={},d=i.Hex={stringify:function(e){for(var t,n=e.words,r=e.sigBytes,o=[],a=0;a<r;a++)t=255&n[a>>>2]>>>24-8*(a%4),o.push((t>>>4).toString(16)),o.push((15&t).toString(16));return o.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new c.init(n,t/2)}},l=i.Latin1={stringify:function(e){for(var t=(0,eval)("this").String.fromCharCode,n,r=e.words,o=e.sigBytes,a=[],c=0;c<o;c++)n=255&r[c>>>2]>>>24-8*(c%4),a.push(t(n));return a.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new c.init(n,t)}},s=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=s.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,o=this.blockSize,a=r/(4*o);a=e?me(a):be((0|a)-this._minBufferSize,0);var i=a*o,d=_e(4*i,r);if(i){for(var l=0;l<i;l+=o)this._doProcessBlock(n,l);var s=n.splice(0,i);t.sigBytes-=d}return new c.init(s,d)},clone:function e(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=o.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new y.HMAC.init(e,n).finalize(t)}}}),y=r.algo={};return r}(Math);return e})}),ya=i(function(e,t){(function(n,r){e.exports=t=r(ua)})(xe,function(e){return function(){function t(e,t,n){for(var r=[],a=0,c=0;c<t;c++)if(c%4){var d=n[e.charCodeAt(c-1)]<<2*(c%4),l=n[e.charCodeAt(c)]>>>6-2*(c%4);r[a>>>2]|=(d|l)<<24-8*(a%4),a++}return o.create(r,a)}var n=e,r=n.lib,o=r.WordArray,a=n.enc,c=a.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],a=0;a<n;a+=3)for(var c=255&t[a>>>2]>>>24-8*(a%4),d=255&t[a+1>>>2]>>>24-8*((a+1)%4),l=255&t[a+2>>>2]>>>24-8*((a+2)%4),s=0;4>s&&a+.75*s<n;s++)o.push(r.charAt(63&(c<<16|d<<8|l)>>>6*(3-s)));var p=r.charAt(64);if(p)for(;o.length%4;)o.push(p);return o.join("")},parse:function(e){var n=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<r.length;a++)o[r.charCodeAt(a)]=a}var c=r.charAt(64);if(c){var i=e.indexOf(c);-1!==i&&(n=i)}return t(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})}),ha=i(function(e,t){(function(n,r){e.exports=t=r(ua)})(xe,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib,n=t.WordArray,r=n.init,o=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],o=0;o<t;o++)n[o>>>2]|=e[o]<<24-8*(o%4);r.call(this,n,t)}else r.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})}),fa={tagU8A:"[Uint8Array]::",u8arr2b64:function(e){return Y(e)?"[Uint8Array]::"+ee(e):e},b642u8arr:function(e){return U(e)&&"[Uint8Array]::"===J(e,14)?(e=Z(e,14),te(e)):e},tagU16A:"[Uint16Array]::",u16arr2b64:function(e){return K(e)?"[Uint16Array]::"+re(e):e},b642u16arr:function(e){return U(e)&&"[Uint16Array]::"===J(e,15)?(e=Z(e,15),ae(e)):e}},ga=function(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:zo(t),Do(e,0>t?0:t,o)):[]},ba=function(e,t,n,r){for(var o=-1,a=be(me((t-e)/(n||1)),0),c=Array(a);a--;)c[r?a:++o]=e,e+=n;return c},ma=function(e){return function(t,n,r){return r&&"number"!=typeof r&&Go(t,n,r)&&(n=r=void 0),t=Uo(t),void 0===n?(n=t,t=0):n=Uo(n),r=void 0===r?t<n?1:-1:Uo(r),ba(t,n,r,e)}}(),_a=ma,xa={},ja=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},wa=function(e,t){return 2>t.length?e:Wr(e,Do(t,0,-1))},Sa=function(e,t){return t=Qr(t,e),e=wa(e,t),null==e||delete e[Rr(ja(t))]},va=Function.prototype,Aa=Object.prototype,ka=va.toString,Oa=Aa.hasOwnProperty,Ba=ka.call(Object),Ea=function(e){if(!Ut(e)||He(e)!="[object Object]")return!1;var t=En(e);if(null===t)return!0;var n=Oa.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ka.call(n)==Ba},La=function(e){return Ea(e)?void 0:e},Ua=Fe?Fe.isConcatSpreadable:void 0,za=function(e){return Ct(e)||Dt(e)||!!(Ua&&e&&e[Ua])},Pa=function(e){var t=null==e?0:e.length;return t?he(e,1):[]},Ta=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);}return e.apply(t,n)},Fa=be,Ia=function(e,t,n){return t=Fa(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=Fa(r.length-t,0),c=Array(a);++o<a;)c[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(c),Ta(e,this,i)}},Da=function(e){return function(){return e}},Ma=vt?function(e,t){return vt(e,"toString",{configurable:!0,enumerable:!1,value:Da(t),writable:!0})}:ho,Ca=Date.now,Na=function(e){var t=0,n=0;return function(){var r=Ca(),o=16-(r-n);if(n=r,!(0<o))t=0;else if(800<=++t)return arguments[0];return e.apply(void 0,arguments)}}(Ma),Ga=function(e){return Na(Ia(e,void 0,Pa),e+"")}(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ir(t,function(t){return t=Qr(t,e),r||(r=1<t.length),t}),Et(e,In(e),n),r&&(n=Or(n,1|2|4,La));for(var o=t.length;o--;)Sa(n,t[o]);return n}),Qa=Ga,Ra={useNewUrlParser:!0,useUnifiedTopology:!0};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=Br(e),e.mongoUrl||(e.mongoUrl="mongodb://127.0.0.1:27017"),e.mongoDb||(e.mongoDb="wqws"),e.mongoCl||(e.mongoCl="queues"),e.port||(e.port=8080);var t=ge({url:e.mongoUrl,db:e.mongoDb,cl:e.mongoCl}),n=new ye(e);return n.on("execute",function(){var e=Se(we.mark(function e(o,a,c,i){var d,l,s,p,u,y,h,f,g,b,m,_,x,j,w,S,v,A,k,O;return we.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){i({_mode:"deliver",data:e})},d=Hr(a,"topic",null),"pushQueue"!==o){e.next=12;break}return p=C(),u=Hr(a,"input",null),y=Hr(a,"option"),h={topic:d,id:p,input:u,output:null,transData:Hr(y,"transData",null),timeStart:Hr(y,"timeStart",null),timeExp:Hr(y,"timeExp",null),timeTakeStart:Hr(y,"timeTakeStart",null),timeTakeExp:Hr(y,"timeTakeExp",null),state:"ready"},e.next=9,t.insert(h).then(function(){n.emit(d,{topic:d,id:p,input:h.input,output:h.output,state:h.state}),s="success"})["catch"](function(e){s={err:e}});case 9:c(s),e.next=105;break;case 12:if("modifyQueue"!==o){e.next=27;break}if(f=Hr(a,"id",null),null===f){e.next=23;break}return g=Hr(a,"input",null),b=Hr(a,"output",null),m=Hr(a,"state",null),_={id:f,output:b,state:m},e.next=21,t.save(_,{atomic:!0}).then(function(){n.emit(d,{topic:d,id:f,input:g,output:b,state:m}),s="success"})["catch"](function(e){s={err:e}});case 21:e.next=24;break;case 23:s={err:"can not find id"};case 24:c(s),e.next=105;break;case 27:if("subTopic"!==o){e.next=34;break}n.deliverQueue=l,n.on(d,n.deliverQueue),s="success",c(s),e.next=105;break;case 34:if("unsubTopic"!==o){e.next=41;break}n.off(d,n.deliverQueue),n.deliverQueue=null,s="success",c(s),e.next=105;break;case 41:if("delQueueByTopic"!==o){e.next=47;break}return e.next=44,t.delAll({topic:d}).then(function(){s="success"})["catch"](function(e){s={err:e}});case 44:c(s),e.next=105;break;case 47:if("delQueueByID"!==o){e.next=58;break}if(x=Hr(a,"id",null),null===x){e.next=54;break}return e.next=52,t.delAll({id:x}).then(function(){s="success"})["catch"](function(e){s={err:e}});case 52:e.next=55;break;case 54:s={err:"can not find id"};case 55:c(s),e.next=105;break;case 58:if("delQueueByIDs"!==o){e.next=66;break}return j=Hr(a,"ids",null),w=wo(j,function(e){return t.delAll({id:e})}),e.next=63,Promise.all(w).then(function(){s="success"})["catch"](function(e){s={err:e}});case 63:c(s),e.next=105;break;case 66:if("delQueueByMatches"!==o){e.next=73;break}return S=Hr(a,"find",null),e.next=70,t.delAll(S).then(function(){s="success"})["catch"](function(e){s={err:e}});case 70:c(s),e.next=105;break;case 73:if("getQueueByTopic"!==o){e.next=79;break}return e.next=76,t.select({topic:d}).then(function(e){s=e})["catch"](function(e){s={err:e}});case 76:c(s),e.next=105;break;case 79:if("getQueueByID"!==o){e.next=90;break}if(v=Hr(a,"id",null),null===v){e.next=86;break}return e.next=84,t.select({id:v}).then(function(e){s=e})["catch"](function(e){s={err:e}});case 84:e.next=87;break;case 86:s={err:"can not find id"};case 87:c(s),e.next=105;break;case 90:if("getQueueByIDs"!==o){e.next=98;break}return A=Hr(a,"ids",null),k=wo(A,function(e){return t.select({id:e})}),e.next=95,Promise.all(k).then(function(e){s=e})["catch"](function(e){s={err:e}});case 95:c(s),e.next=105;break;case 98:if("getQueueByMatches"!==o){e.next=105;break}return O=Hr(a,"find",null),e.next=102,t.select(O).then(function(e){s=e})["catch"](function(e){s={err:e}});case 102:c(s),e.next=105;break;case 105:case"end":return e.stop();}},e)}));return function(){return e.apply(this,arguments)}}()),n}});
//# sourceMappingURL=w-runqws-server.umd.js.map
